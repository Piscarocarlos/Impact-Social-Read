import{r as i,u as E,a as t,j as n}from"./main-7817f3b1.js";import{d as H}from"./index.esm-fffe3f01.js";import{t as I,S as z}from"./transition-35f1fbff.js";import"./keyboard-bc2fdc5c.js";const se=({dataValue:r,title:o,id:J,fieldClose:l})=>{var S;const[w,x]=i.useState(!1),[T,U]=i.useState(),[C,M]=i.useState(r),[_,d]=i.useState(),[v,R]=i.useState(),B=r;console.log("heloo",r),console.log(()=>null),i.useEffect(()=>{k((s=>{const a={};return s==null||s.forEach(m=>{a[m.id]=null}),a})(r)),l.length>0&&M(JSON.parse(l[0].data))},[r]);const L=e=>{const s={};return e==null||e.forEach(a=>{s[a.id]=0}),s},{data:Q,setData:k,processing:X,errors:N,reset:Y,put:Z,post:$}=E(L(B)),{data:y,setData:F,errors:D,put:V,post:q}=E(C),P=e=>{e.preventDefault(),$(route("dashboard.scoring.save",J)),console.log("ee",N)};i.useEffect(()=>{if(l.length!==0){const e={...JSON.parse(l[0].data),item:y.item};F(e)}},[y.item]);const W=e=>{e.preventDefault(),q(route("dashboard.update.close.field.value",T),{onSuccess:()=>{x(!1)},onError:s=>{}}),console.log(y)},c=(e,s)=>e==null?void 0:e.find(a=>a.id===s);r==null||r.find(e=>e.id===5);const G=(e,s)=>{var a,m,h,p,f,b,g,u;x(!0),U(e),R(s),d(o==="situation social"?(a=c(r,+s))==null?void 0:a.name_situation:o==="logement"?(m=c(r,+s))==null?void 0:m.name_logement:o==="orphelin"?(h=c(r,+s))==null?void 0:h.name_type:o==="type d'handicap"?(p=c(r,+s))==null?void 0:p.type_handicap:o==="filiére du bac"?(f=c(r,+s))==null?void 0:f.name_filiere:o==="lycée"?(b=c(r,+s))==null?void 0:b.nom_fr:o==="Comment avez vous connu JADARA FOOUNDATION"?(g=c(r,+s))==null?void 0:g.name_information:(u=c(r,+s))==null?void 0:u.name),console.log("eee",_)};return t("div",{children:[n("div",{className:"mb-5",children:l.length!==0?t("div",{className:"table-responsive mb-5",children:[n("h1",{className:"text-2xl text-center my-3 pb-6",children:o}),t("table",{children:[n("thead",{children:t("tr",{children:[n("th",{children:" N°"}),n("th",{children:"name"}),n("th",{children:"Valeur"}),n("th",{className:"!text-center",children:"Action"})]})}),n("tbody",{children:(S=Object.keys(JSON.parse(l[0].data)))==null?void 0:S.map((e,s)=>{var a,m,h,p,f,b,g,u,O,A,j;return t("tr",{children:[n("td",{children:s+1}),n("td",{children:o==="region"?(a=c(r,+e))==null?void 0:a.name_region:o==="province"?(m=c(r,+e))==null?void 0:m.name_province:o==="ville"?(h=c(r,+e))==null?void 0:h.name_city:o==="situation social"?(p=c(r,+e))==null?void 0:p.name_situation:o==="logement"?(f=c(r,+e))==null?void 0:f.name_logement:o==="orphelin"?(b=c(r,+e))==null?void 0:b.name_type:o==="type d'handicap"?(g=c(r,+e))==null?void 0:g.type_handicap:o==="filiére du bac"?(u=c(r,+e))==null?void 0:u.name_filiere:o==="lycée"?(O=c(r,+e))==null?void 0:O.nom_fr:o==="Comment avez vous connu JADARA FOOUNDATION"?(A=c(r,+e))==null?void 0:A.name_information:(j=c(r,+e))==null?void 0:j.name}),t("td",{children:[JSON.parse(l[0].data)[e]," "]}),n("td",{className:"flex justify-around",children:n("button",{onClick:()=>G(l[0].id,e),type:"button",className:"text-white p-2 rounded hover:text-gray-100 mr-2 bg-green-600",children:n(H,{})})})]},s)})})]})]}):t("div",{className:"panel",children:[n("h1",{className:"text-2xl text-center  pb-6",children:o}),n("form",{onSubmit:P,children:t("div",{className:"flex flex-wrap  mb-6",children:[r==null?void 0:r.map((e,s)=>t("div",{className:"w-1/2 px-2",children:[n("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2  ",htmlFor:"grid-password",children:o==="region"?e.name_region:o==="province"?e.name_province:o==="ville"?e.name_city:o==="situation social"?e.name_situation:o==="logement"?e.name_logement:o==="orphelin"?e.name_type:o==="type d'handicap"?e.type_handicap:o==="filiére du bac"?e.name_filiere:o==="lycée"?e.nom_fr:o==="Comment avez vous connu JADARA FOOUNDATION"?e.name_information:e.name}),n("input",{onChange:a=>{k(`${e.id}`,a.target.value)},className:"appearance-none block w-full  dark:bg-black dark:text-white  text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:s+1,type:"number",placeholder:"donnez un point"}),N[e.id]&&n("div",{className:"text-red-500 text-xs",children:N[e.id]})]},s)),n("div",{className:"w-full px-3",children:n("button",{type:"submit",className:"bg-green-500 w-full mt-5 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"valider"})})]})})]})}),n(I,{appear:!0,show:w,as:i.Fragment,children:t(z,{as:"div",open:w,onClose:()=>x(!1),children:[n(I.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n("div",{className:"fixed inset-0"})}),n("div",{id:"zoomIn_up_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:n("div",{className:"flex min-h-screen items-start justify-center px-4",children:t(z.Panel,{className:"panel animate__animated animate__zoomInUp my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[t("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[n("h5",{className:"text-lg font-bold",children:"Modifier la valeur"}),n("button",{onClick:()=>x(!1),type:"button",className:"text-white-dark hover:text-dark",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n("div",{className:"p-5",children:t("form",{onSubmit:W,children:[n("div",{className:"flex flex-wrap -mx-3 mb-6",children:t("div",{className:"w-full px-2  bg-[#fbfbfb]  dark:bg-[#121c2c]",children:[n("label",{className:"block uppercase tracking-wide text-lg font-bold mb-2  ",htmlFor:"grid-password",children:_}),n("input",{onChange:e=>{F(`${v}`,e.target.value)},className:"appearance-none block w-full  dark:bg-black dark:text-white  text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:v,type:"number",placeholder:"donnez un point",required:!0}),D[v]&&n("div",{className:"text-red-500 text-xs",children:D[v]})]})}),n("div",{className:"w-full px-3",children:n("button",{type:"submit",className:"bg-green-500 w-full mt-5 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"valider"})})]})})]})})})]})})]})};export{se as default};
