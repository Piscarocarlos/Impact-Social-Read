import{r as a,s as $,a as i,j as t,L as G,F as W,d as y}from"./main-7817f3b1.js";import{D as X,a as Z}from"./DefaultLayout-c44391f7.js";import{N as q}from"./index-a42b5db0.js";import{s as _}from"./sortBy-2ed23318.js";import{c as J}from"./index.esm-35a63bc3.js";import{f as S}from"./index.esm-fffe3f01.js";import{S as K}from"./sweetalert2.all-b373c7ca.js";import{u as Q}from"./useDispatch-d01b19de.js";import{t as u,S as h}from"./transition-35f1fbff.js";import"./App-6286d217.js";import"./useSelector-73b17a09.js";import"./slicedToArray-faa72b39.js";import"./index-4d501b15.js";import"./index-d410f391.js";import"./floating-ui.dom.browser.min-71618afd.js";import"./keyboard-bc2fdc5c.js";function fe({partner_contact:v,success:p}){const L=Q();a.useEffect(()=>{L($("Column Chooser Table"))});const[f,b]=a.useState(1),w=[10,20,30,50,100],[l,P]=a.useState(w[0]),[c,N]=a.useState(_(v,"id")),[I,D]=a.useState(c),[r,T]=a.useState(""),[d,F]=a.useState({columnAccessor:"id",direction:"asc"}),[s,x]=a.useState(["created_at","function","title","phone_fixe","profil_linkedin"]),j=(e,o)=>{s.includes(e)?x(n=>s.filter(V=>V!==n)):x([...s,e])},E=[{accessor:"id",title:"Id"},{accessor:"name",title:"Nom"},{accessor:"first_name",title:"Prénom"},{accessor:"function",title:"Fonction"},{accessor:"title",title:"Titre"},{accessor:"civility",title:"Civilité"},{accessor:"email",title:"Email"},{accessor:"phone_mobile",title:"Téléphone 1"},{accessor:"phone_fixe",title:"Téléphone 2"},{accessor:"profil_linkedin",title:"Profil Linkedin"},{accessor:"Status",title:"Statut"},{accessor:"created_at",title:"Date"}];a.useEffect(()=>{b(1)},[l]),a.useEffect(()=>{const e=(f-1)*l,o=e+l;D([...c.slice(e,o)])},[f,l,c]),a.useEffect(()=>{N(()=>v.filter(e=>e.id.toString().includes(r.toLowerCase())||e.name.toLowerCase().includes(r.toLowerCase())||e.first_name.toLowerCase().includes(r.toLowerCase())||e.function.toLowerCase().includes(r.toLowerCase())||e.title.toLowerCase().includes(r.toLowerCase())||e.civility.toLowerCase().includes(r.toLowerCase())||e.email.toLowerCase().includes(r.toLowerCase())))},[r]),a.useEffect(()=>{const e=_(c,d.columnAccessor);N(d.direction==="desc"?e.reverse():e),b(1)},[d]);const M=(e="",o="success")=>{K.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:o,title:e,padding:"10px 20px"})};a.useEffect(()=>{p&&M(p)},[p]);const[C,m]=a.useState(!1),[z,U]=a.useState(""),[k,g]=a.useState(!1),[R,A]=a.useState(""),H=e=>{y.Inertia.get(route("dashboard.contact-partenaires.edit",e))},O=e=>{g(!0),A(e)},B=e=>{y.Inertia.get(route("dashboard.contact-partenaires.show",e))};return i(X,{children:[i("div",{className:"panel datatables",children:[t("div",{className:"flex justify-between mb-5",children:t("h3",{className:"text-lg",children:"Liste des contacts"})}),i("div",{className:"flex md:items-center md:flex-row flex-col mb-5 gap-5",children:[t(G,{href:route("dashboard.contact-partenaires.create"),className:"btn btn-success",children:"Création"}),i("div",{className:"flex items-center gap-5 ltr:ml-auto rtl:mr-auto",children:[t("div",{className:"flex md:items-center md:flex-row flex-col gap-5",children:t("div",{className:"dropdown",children:t(Z,{btnClassName:"!flex items-center border font-semibold border-white-light dark:border-[#253b5c] rounded-md px-4 py-2 text-sm dark:bg-[#1b2e4b] dark:text-white-dark",button:i(W,{children:[t("span",{className:"ltr:mr-1 rtl:ml-1",children:"Colonnes"}),t("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M19 9L12 15L5 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),children:t("ul",{className:"!min-w-[140px]",children:E.map((e,o)=>t("li",{className:"flex flex-col",onClick:n=>{n.stopPropagation()},children:t("div",{className:"flex items-center px-4 py-1",children:i("label",{className:"cursor-pointer mb-0",children:[t("input",{type:"checkbox",checked:!s.includes(e.accessor),className:"form-checkbox",defaultValue:e.accessor,onChange:n=>{x(n.target.value),j(e.accessor,n.target.checked)}}),t("span",{className:"ltr:ml-2 rtl:mr-2",children:e.title})]})})},o))})})})}),t("div",{className:"text-right",children:t("input",{type:"text",className:"form-input",placeholder:"Recherche....",value:r,onChange:e=>T(e.target.value)})})]})]}),t(q,{className:"whitespace-nowrap table-hover",records:I,columns:[{accessor:"id",title:"Id",sortable:!0,hidden:s.includes("id")},{accessor:"name",title:"Nom",sortable:!0,hidden:s.includes("name"),render:e=>e.name},{accessor:"first_name",title:"Prénom",sortable:!0,hidden:s.includes("first_name"),render:e=>e.first_name},{accessor:"function",title:"Fonction",sortable:!0,hidden:s.includes("function"),render:e=>e.function},{accessor:"title",title:"Titre",sortable:!0,hidden:s.includes("title"),render:e=>e.title},{accessor:"civility",title:"Civilité",sortable:!0,hidden:s.includes("civility"),render:e=>e.civility},{accessor:"email",title:"Email",sortable:!0,hidden:s.includes("email"),render:e=>e.email},{accessor:"phone_mobile",title:"Téléphone 1",sortable:!0,hidden:s.includes("phone_mobile"),render:e=>e.phone_mobile},{accessor:"phone_fixe",title:"Téléphone 2",sortable:!0,hidden:s.includes("phone_fixe"),render:e=>e.phone_fixe},{accessor:"profil_linkedin",title:"Profil Linkedin",sortable:!0,hidden:s.includes("profil_linkedin"),render:e=>e.profil_linkedin},{accessor:"created_at",title:"Date création",sortable:!0,hidden:s.includes("created_at")},{accessor:"",title:"Action",sortable:!0,hidden:s.includes("Action"),render:e=>t("div",{className:"flex space-x-2",children:t("button",{className:"btn btn-danger",onClick:()=>O(e.id),children:t(J,{})})})}],highlightOnHover:!0,totalRecords:c.length,recordsPerPage:l,page:f,onPageChange:e=>b(e),recordsPerPageOptions:w,onRecordsPerPageChange:P,sortStatus:d,onSortStatusChange:F,minHeight:200,paginationText:({from:e,to:o,totalRecords:n})=>`Showing  ${e} to ${o} of ${n} entries`})]}),t("div",{children:t(u,{appear:!0,show:C,as:a.Fragment,children:i(h,{as:"div",open:C,onClose:()=>m(!1),children:[t(u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t("div",{className:"fixed inset-0"})}),t("div",{id:"slideIn_down_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:t("div",{className:"flex min-h-screen items-start justify-center px-4",children:i(h.Panel,{className:"panel animate__animated animate__slideInDown my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[i("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[t("h5",{className:"text-lg font-bold",children:"Modification"}),t("button",{onClick:()=>m(!1),type:"button",className:"text-white-dark hover:text-dark",children:t(S,{})})]}),i("div",{className:"p-5",children:[t("p",{children:"Voulez-vous modifier cet élément ?"}),i("div",{className:"mt-8 flex items-center justify-end",children:[t("button",{onClick:()=>m(!1),type:"button",className:"btn btn-outline-danger",children:"Non"}),t("button",{onClick:()=>H(z),type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Oui"})]})]})]})})})]})})}),t("div",{children:t(u,{appear:!0,show:k,as:a.Fragment,children:i(h,{as:"div",open:k,onClose:()=>m(!1),children:[t(u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t("div",{className:"fixed inset-0"})}),t("div",{id:"slideIn_down_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:t("div",{className:"flex min-h-screen items-start justify-center px-4",children:i(h.Panel,{className:"panel animate__animated animate__slideInDown my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[i("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[t("h5",{className:"text-lg font-bold",children:"Suppression"}),t("button",{onClick:()=>g(!1),type:"button",className:"text-white-dark hover:text-dark",children:t(S,{})})]}),i("div",{className:"p-5",children:[t("p",{children:"Voulez-vous supprimer cet élément ?"}),i("div",{className:"mt-8 flex items-center justify-end",children:[t("button",{onClick:()=>g(!1),type:"button",className:"btn btn-outline-danger",children:"Non"}),t("button",{onClick:()=>B(R),type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Oui"})]})]})]})})})]})})})]})}export{fe as default};
