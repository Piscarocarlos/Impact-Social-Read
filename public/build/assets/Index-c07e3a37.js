import{c as J,u as Q,r as s,s as U,a,j as e,d as T}from"./main-7817f3b1.js";import{D as Y}from"./DefaultLayout-c44391f7.js";import{N as ee}from"./index-a42b5db0.js";import{s as w}from"./sortBy-2ed23318.js";import{c as te}from"./index.esm-35a63bc3.js";import{d as ae,f as D,F as se,b as re}from"./index.esm-fffe3f01.js";import{S as ne}from"./sweetalert2.all-b373c7ca.js";import{u as le}from"./useDispatch-d01b19de.js";import{t as o,S as d}from"./transition-35f1fbff.js";import"./App-6286d217.js";import"./useSelector-73b17a09.js";import"./slicedToArray-faa72b39.js";import"./index-4d501b15.js";import"./index-d410f391.js";import"./floating-ui.dom.browser.min-71618afd.js";import"./keyboard-bc2fdc5c.js";function ke({teams:C,success:b}){const{roles:I}=J().props,{data:f,post:j,setData:g,errors:n,reset:R}=Q({name:"",email:"",phoneNumber:"",role_id:"",id:""}),L=t=>{t.preventDefault(),j(route("dashboard.teams.store"),{preserveScroll:!0,onSuccess:()=>{p(!1),P(b),R()}})},M=le();s.useEffect(()=>{M(U("Teams"))});const[N,v]=s.useState(1),k=[10,20,30,50,100],[m,z]=s.useState(k[0]),[c,y]=s.useState(w(C,"id")),[A,B]=s.useState(c),[l,O]=s.useState({columnAccessor:"id",direction:"asc"}),[r,ie]=s.useState(["created_at"]),[h,H]=s.useState("");s.useEffect(()=>{v(1)},[m]),s.useEffect(()=>{const t=(N-1)*m,i=t+m;B([...c.slice(t,i)])},[N,m,c]),s.useEffect(()=>{const t=w(c,l.columnAccessor);y(l.direction==="desc"?t.reverse():t),v(1)},[l]),s.useEffect(()=>{y(()=>C.filter(t=>t.id.toString().includes(h.toLowerCase())||t.name.toLowerCase().includes(h.toLowerCase())||t.email.toLowerCase().includes(h.toLowerCase())))},[h]),s.useEffect(()=>{const t=w(c,l.columnAccessor);y(l.direction==="desc"?t.reverse():t),v(1)},[l]);const[S,u]=s.useState(!1),[V,$]=s.useState(""),[_,x]=s.useState(!1),[G,K]=s.useState(""),[F,p]=s.useState(!1),W=t=>{u(!0),$(t)},X=t=>{T.Inertia.get(route("dashboard.teams.edit",t))},Z=t=>{x(!0),K(t)},q=t=>{x(!1),console.log("bannir"),T.Inertia.delete(route("dashboard.teams.destroy",t))},P=(t="Membre Créer avec succès",i="success")=>{ne.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:i,title:t,padding:"10px 20px"})};return s.useEffect(()=>{b&&P(b)},[b]),a(Y,{children:[a("div",{className:"panel datatables",children:[e("div",{className:"flex justify-between mb-5",children:e("h3",{className:"text-lg",children:"Teams Informations."})}),a("div",{className:"flex md:items-center md:flex-row flex-col mb-5 gap-5",children:[e("button",{onClick:()=>p(!0),className:"btn btn-success",children:"Créer un membre."}),a("div",{className:"flex items-center gap-5 ltr:ml-auto rtl:mr-auto",children:[e("div",{className:"flex md:items-center md:flex-row flex-col gap-5"}),e("div",{className:"text-right",children:e("input",{type:"text",className:"form-input",placeholder:"Recherche....",value:h,onChange:t=>H(t.target.value)})})]})]}),e(ee,{className:"whitespace-nowrap table-hover ",records:A,columns:[{accessor:"keys",title:"Keys",sortable:!0,hidden:r.includes("keys"),render:t=>t.keys},{accessor:"name",title:"Nom",sortable:!0,hidden:r.includes("Nom"),render:t=>t.name},{accessor:"email",title:"E-mail",sortable:!0,hidden:r.includes("E-mail"),render:t=>t.email},{accessor:"phone",title:"Phone",sortable:!0,hidden:r.includes("Role"),render:t=>t.phone},{accessor:"role",title:"Role",sortable:!0,hidden:r.includes("Role"),render:t=>t.role},{accessor:"created_at",title:"Création",sortable:!0,hidden:r.includes("Date"),render:t=>t.created_at},{accessor:"created_at",title:"création",sortable:!0,hidden:r.includes("created_at"),render:t=>t.created_at},{accessor:"status",title:"Status",sortable:!0,hidden:r.includes("Status"),render:t=>t.status==="nv"?e("div",{className:"flex space-x-1",children:e("button",{className:"btn btn-warning  w-20",children:"En cours"})}):e("div",{className:"flex space-x-1",children:e("button",{className:"btn btn-success w-20",children:"Confirmer"})})},{accessor:"",title:"Action",sortable:!0,hidden:r.includes("Action"),render:t=>a("div",{className:"flex space-x-2",children:[e("span",{className:"btn btn-danger",onClick:()=>Z(t.id),children:e(te,{})}),e("span",{className:"btn btn-info",onClick:()=>W(t.id),children:e(ae,{})})]})}],highlightOnHover:!0,totalRecords:c.length,recordsPerPage:m,page:N,onPageChange:t=>v(t),recordsPerPageOptions:k,onRecordsPerPageChange:z,sortStatus:l,onSortStatusChange:O,minHeight:200,paginationText:({from:t,to:i,totalRecords:E})=>`Showing  ${t} to ${i} of ${E} entries`})]}),e("div",{children:e(o,{appear:!0,show:S,as:s.Fragment,children:a(d,{as:"div",open:S,onClose:()=>u(!1),children:[e(o.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"slideIn_down_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:e("div",{className:"flex min-h-screen items-start justify-center px-4",children:a(d.Panel,{className:"panel animate__animated animate__slideInDown my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[a("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[e("h5",{className:"text-lg font-bold",children:"Modifications"}),e("button",{onClick:()=>u(!1),type:"button",className:"text-white-dark hover:text-dark",children:e(D,{})})]}),a("div",{className:"p-5",children:[e("p",{children:"Voulez-vous modifier cet élément ?"}),a("div",{className:"mt-8 flex items-center justify-end",children:[e("button",{onClick:()=>u(!1),type:"button",className:"btn btn-outline-danger",children:"Non"}),e("button",{onClick:()=>X(V),type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Oui"})]})]})]})})})]})})}),e("div",{children:e(o,{appear:!0,show:_,as:s.Fragment,children:a(d,{as:"div",open:_,onClose:()=>u(!1),children:[e(o.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"slideIn_down_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:e("div",{className:"flex min-h-screen items-start justify-center px-4",children:a(d.Panel,{className:"panel animate__animated animate__slideInDown my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[a("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[e("h5",{className:"text-lg font-bold text-danger",children:"Bannissement"}),e("button",{onClick:()=>x(!1),type:"button",className:"text-white-dark hover:text-dark",children:e(D,{})})]}),a("div",{className:"p-5",children:[e("p",{children:"Voulez-vous bannir ce membre ?"}),a("div",{className:"mt-8 flex items-center justify-end",children:[e("button",{onClick:()=>x(!1),type:"button",className:"btn btn-outline-danger",children:"Non"}),e("button",{onClick:()=>q(G),type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Oui"})]})]})]})})})]})})}),e("div",{children:e(o,{appear:!0,show:F,as:s.Fragment,children:a(d,{as:"div",open:F,onClose:()=>p(!1),children:[e(o.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"login_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:e("div",{className:"flex min-h-screen items-start justify-center px-4",children:e(o.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a(d.Panel,{className:"panel my-8 w-3/4 overflow-hidden rounded-lg border-0 py-1 px-4 text-black dark:text-white-dark",children:[a("div",{className:"flex items-center justify-between p-5 text-lg font-semibold dark:text-white",children:[e("h5",{className:"text-bold",children:"Créer un membre "}),e("button",{type:"button",onClick:()=>p(!1),className:"text-white-dark hover:text-dark",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e("div",{className:"p-5 m-5",children:a("form",{onSubmit:L,children:[a("div",{className:"grid grid-cols-2 gap-3",children:[a("div",{className:"my-2",children:[a("label",{htmlFor:"name",className:"text-base",children:["Nom ",e("span",{className:"text-danger",children:"*"})]}),e("input",{type:"text",value:f.name,onChange:t=>g("name",t.target.value),className:"form-input ",placeholder:"Nom "}),n.name&&e("div",{className:"text-danger",children:n.name})]}),a("div",{className:"my-2",children:[a("label",{htmlFor:"email",className:"text-base",children:["Email ",e("span",{className:"text-danger",children:"*"})]}),e("input",{type:"text",value:f.email,onChange:t=>g("email",t.target.value),className:"form-input ",placeholder:"E-mail"}),n.email&&e("div",{className:"text-danger",children:n.email})]})]}),a("div",{className:"grid grid-cols-2 gap-3",children:[a("div",{className:"my-2",children:[a("label",{htmlFor:"phoneNumber",className:"text-base",children:["Téléphone ",e("span",{className:"text-danger",children:"*"})]}),e("input",{type:"text",value:f.phoneNumber,onChange:t=>g("phoneNumber",t.target.value),className:"form-input ",placeholder:"Phone"}),n.phoneNumber&&e("div",{className:"text-danger",children:n.phoneNumber})]}),a("div",{className:"my-2",children:[a("label",{htmlFor:"role_id",className:"text-base",children:["Role ",e("span",{className:"text-danger",children:"*"})]}),a("select",{type:"text",value:f.role_id,onChange:t=>g("role_id",t.target.value),className:"form-select",placeholder:"Role",children:[e("option",{defaultValue:"",desabled:"desabled",children:"Sélectionner un role"}),I.map((t,i)=>e("option",{value:t.id,children:t.name},i))]}),n.role_id&&e("div",{className:"text-danger",children:n.role_id})]})]}),a("div",{className:"grid  gap-3 pt-4",children:[a("button",{type:"submit",className:"btn btn-success border-lime-500",children:[e(se,{className:"mr-4 rtl:order-2"}),e("span",{children:"Sauvegarder"})]}),a("button",{onClick:()=>p(!1),type:"button",className:"btn btn-outline-danger gap-1 ",children:[e(re,{className:"mr-4 rlt:order-2"}),e("span",{children:"Annuler"})]})]})]})})]})})})})]})})})]})}export{ke as default};
