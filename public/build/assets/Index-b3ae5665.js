import{r as a,s as Z,a as s,j as t,L as S,F as q,d as N}from"./main-7817f3b1.js";import{D as K,a as Q}from"./DefaultLayout-c44391f7.js";import{N as U}from"./index-a42b5db0.js";import{s as L}from"./sortBy-2ed23318.js";import{c as Y}from"./index.esm-35a63bc3.js";import{d as ee,y as te,f as D}from"./index.esm-fffe3f01.js";import{S as ae}from"./sweetalert2.all-b373c7ca.js";import{u as re}from"./useDispatch-d01b19de.js";import{t as p,S as m}from"./transition-35f1fbff.js";import"./App-6286d217.js";import"./useSelector-73b17a09.js";import"./slicedToArray-faa72b39.js";import"./index-4d501b15.js";import"./index-d410f391.js";import"./floating-ui.dom.browser.min-71618afd.js";import"./keyboard-bc2fdc5c.js";function Ne({partenaires:v,success:h}){const I=re();a.useEffect(()=>{I(Z("Column Chooser Table"))});const[b,f]=a.useState(1),w=[10,20,30,50,100],[o,P]=a.useState(w[0]),[c,C]=a.useState(L(v,"id")),[F,j]=a.useState(c),[l,E]=a.useState(""),[u,T]=a.useState({columnAccessor:"id",direction:"asc"}),[r,_]=a.useState(["created_at","adresse_partner","ville_partner","pays_partner","web_site_partner","tel_standard_partner","likedin_partner","source_partner","region_partner"]),M=(e,i)=>{r.includes(e)?_(n=>r.filter(x=>x!==n)):_([...r,e])},R=[{accessor:"id",title:"Id"},{accessor:"name_partner",title:"Nom"},{accessor:"contact_partner_id",title:"Contact"},{accessor:"categorie_partner",title:"Catégorie"},{accessor:"account_status",title:"Statut compte"},{accessor:"adresse_partner",title:"Adresse"},{accessor:"region_partner",title:"Région"},{accessor:"ville_partner",title:"Ville"},{accessor:"pays_partner",title:"Pays"},{accessor:"web_site_partner",title:"Site web"},{accessor:"tel_standard_partner",title:"Téléphone"},{accessor:"likedin_partner",title:"Linkedin"},{accessor:"source_partner",title:"Source"},{accessor:"created_at",title:"Date"}];a.useEffect(()=>{f(1)},[o]),a.useEffect(()=>{const e=(b-1)*o,i=e+o;j([...c.slice(e,i)])},[b,o,c]),a.useEffect(()=>{C(()=>v.filter(e=>e.id.toString().includes(l.toLowerCase())||e.name_partner.toLowerCase().includes(l.toLowerCase())||e.categorie_partner.toLowerCase().includes(l.toLowerCase())||e.adresse_partner.toLowerCase().includes(l.toLowerCase())||e.region_partner.toLowerCase().includes(l.toLowerCase())||e.pays_partner.toLowerCase().includes(l.toLowerCase())))},[l]),a.useEffect(()=>{const e=L(c,u.columnAccessor);C(u.direction==="desc"?e.reverse():e),f(1)},[u]);const A=(e="",i="success")=>{ae.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:i,title:e,padding:"10px 20px"})};a.useEffect(()=>{h&&A(h)},[h]);const[k,d]=a.useState(!1),[z,V]=a.useState(""),[y,g]=a.useState(!1),[O,H]=a.useState(""),B=e=>{d(!0),V(e)},$=e=>{N.Inertia.get(route("dashboard.account-partner.edit",e))},G=e=>{N.Inertia.get(route("dashboard.liste-partenaire.edit",e))},J=e=>{g(!0),H(e)},W=e=>{N.Inertia.get(route("dashboard.liste-partenaire.show",e))},X=e=>JSON.parse(e).map(x=>x.label);return s(K,{children:[t("div",{className:"grid grid-cols-5 ml-3",children:t("div",{className:"my-2 mb-5",children:t(S,{href:route("dashboard.contact-partenaires.create"),className:"btn btn-success gap-5",children:"Créer un contact"})})}),s("div",{className:"panel datatables",children:[t("div",{className:"flex justify-between mb-5",children:t("h3",{className:"text-lg",children:"Liste des partenaires"})}),s("div",{className:"flex md:items-center md:flex-row flex-col mb-5 gap-5",children:[t(S,{href:route("dashboard.liste-partenaire.create"),className:"btn btn-success mb-4",children:"Créer un partenaire"}),s("div",{className:"flex items-center gap-5 ltr:ml-auto rtl:mr-auto",children:[t("div",{className:"flex md:items-center md:flex-row flex-col gap-5",children:t("div",{className:"dropdown",children:t(Q,{btnClassName:"!flex items-center border font-semibold border-white-light dark:border-[#253b5c] rounded-md px-4 py-2 text-sm dark:bg-[#1b2e4b] dark:text-white-dark",button:s(q,{children:[t("span",{className:"ltr:mr-1 rtl:ml-1",children:"Colonnes"}),t("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M19 9L12 15L5 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),children:t("ul",{className:"!min-w-[140px]",children:R.map((e,i)=>t("li",{className:"flex flex-col",onClick:n=>{n.stopPropagation()},children:t("div",{className:"flex items-center px-4 py-1",children:s("label",{className:"cursor-pointer mb-0",children:[t("input",{type:"checkbox",checked:!r.includes(e.accessor),className:"form-checkbox",defaultValue:e.accessor,onChange:n=>{_(n.target.value),M(e.accessor,n.target.checked)}}),t("span",{className:"ltr:ml-2 rtl:mr-2",children:e.title})]})})},i))})})})}),t("div",{className:"text-right",children:t("input",{type:"text",className:"form-input",placeholder:"Recherche....",value:l,onChange:e=>E(e.target.value)})})]})]}),t(U,{className:"whitespace-nowrap table-hover",records:F,columns:[{accessor:"id",title:"Id",sortable:!0,hidden:r.includes("id")},{accessor:"name_partner",title:"Nom",sortable:!0,hidden:r.includes("name_partner"),render:e=>e.name_partner},{accessor:"contact_partner_id",title:"Contact",sortable:!0,hidden:r.includes("name_partner"),render:e=>X(e.contact_partner_id).join(" , ")},{accessor:"categorie_partner",title:"Catégorie",sortable:!0,hidden:r.includes("categorie_partner"),render:e=>e.categorie_partner},{accessor:"account_status",title:"Statut compte",sortable:!0,hidden:r.includes("account_status"),render:e=>e.account_status!=!1?t("span",{className:"badge bg-success",children:"Confirmé"}):t("span",{className:"badge bg-warning",children:"En attente de confirmation"})},{accessor:"adresse_partner",title:"Adresse",sortable:!0,hidden:r.includes("adresse_partner"),render:e=>e.adresse_partner},{accessor:"region_partner",title:"Région",sortable:!0,hidden:r.includes("region_partner"),render:e=>e.region_partner},{accessor:"ville_partner",title:"Ville",sortable:!0,hidden:r.includes("ville_partner"),render:e=>e.ville_partner},{accessor:"pays_partner",title:"Pays",sortable:!0,hidden:r.includes("pays_partner"),render:e=>e.pays_partner},{accessor:"web_site_partner",title:"Site web",sortable:!0,hidden:r.includes("web_site_partner"),render:e=>e.web_site_partner},{accessor:"tel_standard_partner",title:"Téléphone",sortable:!0,hidden:r.includes("tel_standard_partner"),render:e=>e.tel_standard_partner},{accessor:"likedin_partner",title:"Linkedin",sortable:!0,hidden:r.includes("likedin_partner"),render:e=>e.likedin_partner},{accessor:"source_partner",title:"Source",sortable:!0,hidden:r.includes("source_partner"),render:e=>e.source_partner},{accessor:"created_at",title:"Date création",sortable:!0,hidden:r.includes("created_at")},{accessor:"",title:"Action",sortable:!0,hidden:r.includes("Action"),render:e=>s("div",{className:"flex space-x-2",children:[t("button",{className:"btn btn-danger",onClick:()=>J(e.id),children:t(Y,{})}),t("button",{className:"btn btn-info",onClick:()=>B(e.id),children:t(ee,{})}),e.account_status==!1&&e.user_id!==null?t("button",{className:"btn btn-primary",onClick:()=>$(e.id),children:t(te,{})}):null]})}],highlightOnHover:!0,totalRecords:c.length,recordsPerPage:o,page:b,onPageChange:e=>f(e),recordsPerPageOptions:w,onRecordsPerPageChange:P,sortStatus:u,onSortStatusChange:T,minHeight:200,paginationText:({from:e,to:i,totalRecords:n})=>`Showing  ${e} to ${i} of ${n} entries`})]}),t("div",{children:t(p,{appear:!0,show:k,as:a.Fragment,children:s(m,{as:"div",open:k,onClose:()=>d(!1),children:[t(p.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t("div",{className:"fixed inset-0"})}),t("div",{id:"slideIn_down_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:t("div",{className:"flex min-h-screen items-start justify-center px-4",children:s(m.Panel,{className:"panel animate__animated animate__slideInDown my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[t("h5",{className:"text-lg font-bold",children:"Modification"}),t("button",{onClick:()=>d(!1),type:"button",className:"text-white-dark hover:text-dark",children:t(D,{})})]}),s("div",{className:"p-5",children:[t("p",{children:"Voulez-vous modifier cet élément ?"}),s("div",{className:"mt-8 flex items-center justify-end",children:[t("button",{onClick:()=>d(!1),type:"button",className:"btn btn-outline-danger",children:"Non"}),t("button",{onClick:()=>G(z),type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Oui"})]})]})]})})})]})})}),t("div",{children:t(p,{appear:!0,show:y,as:a.Fragment,children:s(m,{as:"div",open:y,onClose:()=>d(!1),children:[t(p.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t("div",{className:"fixed inset-0"})}),t("div",{id:"slideIn_down_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:t("div",{className:"flex min-h-screen items-start justify-center px-4",children:s(m.Panel,{className:"panel animate__animated animate__slideInDown my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[t("h5",{className:"text-lg font-bold",children:"Suppression"}),t("button",{onClick:()=>g(!1),type:"button",className:"text-white-dark hover:text-dark",children:t(D,{})})]}),s("div",{className:"p-5",children:[t("p",{children:"Voulez-vous supprimer cet élément ?"}),s("div",{className:"mt-8 flex items-center justify-end",children:[t("button",{onClick:()=>g(!1),type:"button",className:"btn btn-outline-danger",children:"Non"}),t("button",{onClick:()=>W(O),type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Oui"})]})]})]})})})]})})})]})}export{Ne as default};
