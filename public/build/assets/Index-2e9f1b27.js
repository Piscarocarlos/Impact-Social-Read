import{r as s,u as j,s as D,j as e,a as t,L as u}from"./main-7817f3b1.js";import{D as F}from"./DefaultLayout-c44391f7.js";import{M as L}from"./index.esm-d48e620a.js";import{S as M}from"./sweetalert2.all-b373c7ca.js";import{u as P}from"./useDispatch-d01b19de.js";import{t as f,S as x}from"./transition-35f1fbff.js";import"./App-6286d217.js";import"./useSelector-73b17a09.js";import"./slicedToArray-faa72b39.js";import"./index-4d501b15.js";import"./index.esm-fffe3f01.js";import"./index-d410f391.js";import"./keyboard-bc2fdc5c.js";const R=({champScoring:b,totalcoef:i})=>{const[c,r]=s.useState(!1),[n,g]=s.useState(),[o,w]=s.useState(),[d,v]=s.useState(0);console.log(n);const N=(a,l)=>{r(!0),v(a),w(l)},{data:h,setData:y,processing:_,errors:p,reset:I,put:T,post:m}=j({coef:null}),k=P();s.useEffect(()=>{k(D("Index")),g(b)});const C=(a="",l="error")=>{M.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:l,title:a,padding:"10px 20px"})},S=a=>{a.preventDefault(),h.coef<o?(m(route("dashboard.scoring.update.status",d),{}),r(!1)):100-i+o-h.coef<0?C("Le cummule des Poids depasse 100%"):(m(route("dashboard.scoring.update.status",d),{}),r(!1))};return console.log("coef",i),e(F,{children:e("div",{children:t("div",{className:" ",children:[t("div",{className:"panel rounded-md p-4 ",children:[t("div",{className:"flex flex-wrap",children:[e("div",{className:"w-full lg:w-full my-2 pr-0 lg:pr-2 flex",children:t("p",{className:"text-base font-bold pb-6 flex items-center",children:[e("i",{className:"fas fa-list mr-3"})," Liste des Champs pour le scoring"]})}),e("div",{className:"flex w-full justify-end my-4",children:t("p",{className:"text-base font-bold pb-6 flex items-center",children:["Poids restant : ",100-i,"%"]})})]}),e("div",{className:"table-responsive mb-5",children:t("table",{children:[e("thead",{children:t("tr",{children:[e("th",{children:"#"}),e("th",{children:"Nom"}),e("th",{children:"Type"}),e("th",{children:"Poids"}),e("th",{children:"Statut"}),e("th",{className:"!text-center",children:"Action"})]})}),e("tbody",{children:n==null?void 0:n.map((a,l)=>t("tr",{children:[t("td",{children:[l+1," "]}),t("td",{children:[a.name," "]}),t("td",{children:[" ",a.type?e("span",{children:"Fermé"}):e("span",{children:"Ouvert"})]}),e("td",{children:a.status?t("span",{onClick:()=>N(a.id,a.coef),className:"cursor-pointer badge whitespace-nowrap  bg-dark",children:[a.coef,"%"]}):e("span",{className:" badge whitespace-nowrap  bg-danger",children:"-"})}),e("td",{children:e(u,{href:route("dashboard.scoring.update.status",a.id),method:"post",as:"button",children:e("span",{className:`cursor-pointer badge whitespace-nowrap ${a.status?" bg-success ":" bg-pink-500 "}`,children:a.status?e("span",{children:"Activé"}):e("span",{children:"Desactivé"})})})}),e("td",{className:"flex justify-around",children:e(u,{href:route("dashboard.scoring.create",a.id),className:"text-white p-2 rounded hover:text-gray-100 mr-2 bg-green-600",children:e(L,{})})})]}))})]})})]}),e(f,{appear:!0,show:c,as:s.Fragment,children:t(x,{as:"div",open:c,onClose:()=>r(!1),children:[e(f.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"zoomIn_up_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:e("div",{className:"flex min-h-screen items-start justify-center px-4",children:t(x.Panel,{className:"panel animate__animated animate__zoomInUp my-8 w-full max-w-lg overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[t("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[e("h5",{className:"text-lg font-bold",children:"Modal Title"}),e("button",{onClick:()=>r(!1),type:"button",className:"text-white-dark hover:text-dark",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e("div",{className:"p-5",children:e("form",{onSubmit:S,children:t("div",{className:"flex flex-wrap -mx-3 mb-6",children:[t("div",{className:"w-full px-3",children:[e("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2  dark:bg-black dark:text-white",htmlFor:"grid-password",children:"Changer le poids du champ"}),e("input",{onChange:a=>y("coef",a.target.value),className:"appearance-none block w-full  dark:bg-black dark:text-white  text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:d,type:"number",placeholder:"Poid du champ"}),p.coef&&e("div",{className:"text-red-500 text-xs",children:p.coef}),t("span",{className:"text-gray-600 text-xs italic",children:["poids actuel du champ ",o,"% "]})]}),e("div",{className:"w-full px-3",children:e("button",{type:"submit",className:"bg-green-500 w-full mt-5 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"valider"})})]})})})]})})})]})})]})})})};export{R as default};
