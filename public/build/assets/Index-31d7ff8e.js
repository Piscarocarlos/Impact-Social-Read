var vn=Object.defineProperty;var bn=(n,e,t)=>e in n?vn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Yt=(n,e,t)=>(bn(n,typeof e!="symbol"?e+"":e,t),t);import{g as nn,r as te,u as wn,s as yn,a as R,j as p}from"./main-7817f3b1.js";import{D as Sn,a as En}from"./DefaultLayout-c44391f7.js";import{S as xn}from"./sweetalert2.all-b373c7ca.js";import{c as _n,d as Dn,e as Cn,f as On,F as Nn}from"./index.esm-fffe3f01.js";import In from"./AddField-1e74be86.js";import{S as Tn}from"./react-select.esm-b3a586dc.js";import{u as An}from"./useDispatch-d01b19de.js";import{u as Mn}from"./useSelector-73b17a09.js";import{t as Pe,S as nt}from"./transition-35f1fbff.js";import"./App-6286d217.js";import"./slicedToArray-faa72b39.js";import"./index-4d501b15.js";import"./index-d410f391.js";import"./floating-ui.dom.browser.min-71618afd.js";import"./keyboard-bc2fdc5c.js";var Tt={},kn={get exports(){return Tt},set exports(n){Tt=n}};/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Gt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gt(Object(t),!0).forEach(function(o){Pn(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gt(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function ct(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ct=function(e){return typeof e}:ct=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(n)}function Pn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fe(){return fe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},fe.apply(this,arguments)}function $n(n,e){if(n==null)return{};var t={},o=Object.keys(n),i,r;for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Fn(n,e){if(n==null)return{};var t=$n(n,e),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(t[o]=n[o])}return t}function Ln(n){return Rn(n)||jn(n)||Hn(n)||Bn()}function Rn(n){if(Array.isArray(n))return At(n)}function jn(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hn(n,e){if(n){if(typeof n=="string")return At(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return At(n,e)}}function At(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function Bn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xn="1.15.0";function we(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ye=we(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),et=we(/Edge/i),zt=we(/firefox/i),qe=we(/safari/i)&&!we(/chrome/i)&&!we(/android/i),on=we(/iP(ad|od|hone)/i),rn=we(/chrome/i)&&we(/android/i),an={capture:!1,passive:!1};function M(n,e,t){n.addEventListener(e,t,!ye&&an)}function T(n,e,t){n.removeEventListener(e,t,!ye&&an)}function pt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Wn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ge(n,e,t,o){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&pt(n,e):pt(n,e))||o&&n===t)return n;if(n===t)break}while(n=Wn(n))}return null}var Ut=/\s+/g;function z(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var o=(" "+n.className+" ").replace(Ut," ").replace(" "+e+" "," ");n.className=(o+(t?" "+e:"")).replace(Ut," ")}}function w(n,e,t){var o=n&&n.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function Ae(n,e){var t="";if(typeof n=="string")t=n;else do{var o=w(n,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function ln(n,e,t){if(n){var o=n.getElementsByTagName(e),i=0,r=o.length;if(t)for(;i<r;i++)t(o[i],i);return o}return[]}function ve(){var n=document.scrollingElement;return n||document.documentElement}function W(n,e,t,o,i){if(!(!n.getBoundingClientRect&&n!==window)){var r,a,l,s,c,h,f;if(n!==window&&n.parentNode&&n!==ve()?(r=n.getBoundingClientRect(),a=r.top,l=r.left,s=r.bottom,c=r.right,h=r.height,f=r.width):(a=0,l=0,s=window.innerHeight,c=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!ye))do if(i&&i.getBoundingClientRect&&(w(i,"transform")!=="none"||t&&w(i,"position")!=="static")){var S=i.getBoundingClientRect();a-=S.top+parseInt(w(i,"border-top-width")),l-=S.left+parseInt(w(i,"border-left-width")),s=a+r.height,c=l+r.width;break}while(i=i.parentNode);if(o&&n!==window){var D=Ae(i||n),C=D&&D.a,b=D&&D.d;D&&(a/=b,l/=C,f/=C,h/=b,s=a+h,c=l+f)}return{top:a,left:l,bottom:s,right:c,width:f,height:h}}}function Kt(n,e,t){for(var o=_e(n,!0),i=W(n)[e];o;){var r=W(o)[t],a=void 0;if(t==="top"||t==="left"?a=i>=r:a=i<=r,!a)return o;if(o===ve())break;o=_e(o,!1)}return!1}function He(n,e,t,o){for(var i=0,r=0,a=n.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==x.ghost&&(o||a[r]!==x.dragged)&&ge(a[r],t.draggable,n,!1)){if(i===e)return a[r];i++}r++}return null}function Lt(n,e){for(var t=n.lastElementChild;t&&(t===x.ghost||w(t,"display")==="none"||e&&!pt(t,e));)t=t.previousElementSibling;return t||null}function K(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==x.clone&&(!e||pt(n,e))&&t++;return t}function qt(n){var e=0,t=0,o=ve();if(n)do{var i=Ae(n),r=i.a,a=i.d;e+=n.scrollLeft*r,t+=n.scrollTop*a}while(n!==o&&(n=n.parentNode));return[e,t]}function Yn(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===n[t][o])return Number(t)}return-1}function _e(n,e){if(!n||!n.getBoundingClientRect)return ve();var t=n,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=w(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ve();if(o||e)return t;o=!0}}while(t=t.parentNode);return ve()}function Gn(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function yt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Je;function sn(n,e){return function(){if(!Je){var t=arguments,o=this;t.length===1?n.call(o,t[0]):n.apply(o,t),Je=setTimeout(function(){Je=void 0},e)}}}function zn(){clearTimeout(Je),Je=void 0}function cn(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Rt(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function Jt(n,e){w(n,"position","absolute"),w(n,"top",e.top),w(n,"left",e.left),w(n,"width",e.width),w(n,"height",e.height)}function St(n){w(n,"position",""),w(n,"top",""),w(n,"left",""),w(n,"width",""),w(n,"height","")}var ne="Sortable"+new Date().getTime();function Un(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(w(i,"display")==="none"||i===x.ghost)){n.push({target:i,rect:W(i)});var r=be({},n[n.length-1].rect);if(i.thisAnimationDuration){var a=Ae(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice(Yn(n,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var r=!1,a=0;n.forEach(function(l){var s=0,c=l.target,h=c.fromRect,f=W(c),S=c.prevFromRect,D=c.prevToRect,C=l.rect,b=Ae(c,!0);b&&(f.top-=b.f,f.left-=b.e),c.toRect=f,c.thisAnimationDuration&&yt(S,f)&&!yt(h,f)&&(C.top-f.top)/(C.left-f.left)===(h.top-f.top)/(h.left-f.left)&&(s=qn(C,S,D,i.options)),yt(f,h)||(c.prevFromRect=h,c.prevToRect=f,s||(s=i.options.animation),i.animate(c,C,f,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},s),c.thisAnimationDuration=s)}),clearTimeout(e),r?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),n=[]},animate:function(o,i,r,a){if(a){w(o,"transition",""),w(o,"transform","");var l=Ae(this.el),s=l&&l.a,c=l&&l.d,h=(i.left-r.left)/(s||1),f=(i.top-r.top)/(c||1);o.animatingX=!!h,o.animatingY=!!f,w(o,"transform","translate3d("+h+"px,"+f+"px,0)"),this.forRepaintDummy=Kn(o),w(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),w(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){w(o,"transition",""),w(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function Kn(n){return n.offsetWidth}function qn(n,e,t,o){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var $e=[],Et={initializeByDefault:!0},tt={mount:function(e){for(var t in Et)Et.hasOwnProperty(t)&&!(t in e)&&(e[t]=Et[t]);$e.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),$e.push(e)},pluginEvent:function(e,t,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=e+"Global";$e.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](be({sortable:t},o)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](be({sortable:t},o)))})},initializePlugins:function(e,t,o,i){$e.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var c=new l(e,t,e.options);c.sortable=e,c.options=e.options,e[s]=c,fe(o,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var o={};return $e.forEach(function(i){typeof i.eventProperties=="function"&&fe(o,i.eventProperties.call(t[i.pluginName],e))}),o},modifyOption:function(e,t,o){var i;return $e.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(i=r.optionListeners[t].call(e[r.pluginName],o))}),i}};function Ge(n){var e=n.sortable,t=n.rootEl,o=n.name,i=n.targetEl,r=n.cloneEl,a=n.toEl,l=n.fromEl,s=n.oldIndex,c=n.newIndex,h=n.oldDraggableIndex,f=n.newDraggableIndex,S=n.originalEvent,D=n.putSortable,C=n.extraEventProperties;if(e=e||t&&t[ne],!!e){var b,$=e.options,V="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!ye&&!et?b=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(o,!0,!0)),b.to=a||t,b.from=l||t,b.item=i||t,b.clone=r,b.oldIndex=s,b.newIndex=c,b.oldDraggableIndex=h,b.newDraggableIndex=f,b.originalEvent=S,b.pullMode=D?D.lastPutMode:void 0;var Y=be(be({},C),tt.getEventProperties(o,e));for(var F in Y)b[F]=Y[F];t&&t.dispatchEvent(b),$[V]&&$[V].call(e,b)}}var Jn=["evt"],re=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,r=Fn(o,Jn);tt.pluginEvent.bind(x)(e,t,be({dragEl:u,parentEl:U,ghostEl:N,rootEl:X,nextEl:Te,lastDownEl:dt,cloneEl:G,cloneHidden:xe,dragStarted:ze,putSortable:Q,activeSortable:x.active,originalEvent:i,oldIndex:je,oldDraggableIndex:Ve,newIndex:ce,newDraggableIndex:Ee,hideGhostForTarget:hn,unhideGhostForTarget:pn,cloneNowHidden:function(){xe=!0},cloneNowShown:function(){xe=!1},dispatchSortableEvent:function(l){oe({sortable:t,name:l,originalEvent:i})}},r))};function oe(n){Ge(be({putSortable:Q,cloneEl:G,targetEl:u,rootEl:X,oldIndex:je,oldDraggableIndex:Ve,newIndex:ce,newDraggableIndex:Ee},n))}var u,U,N,X,Te,dt,G,xe,je,ce,Ve,Ee,ot,Q,Re=!1,mt=!1,gt=[],Ne,pe,xt,_t,Vt,Zt,ze,Fe,Ze,Qe=!1,it=!1,ut,ee,Dt=[],Mt=!1,vt=[],wt=typeof document<"u",rt=on,Qt=et||ye?"cssFloat":"float",Vn=wt&&!rn&&!on&&"draggable"in document.createElement("div"),dn=function(){if(wt){if(ye)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),un=function(e,t){var o=w(e),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=He(e,0,t),a=He(e,1,t),l=r&&w(r),s=a&&w(a),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+W(r).width,h=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+W(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||c>=i&&o[Qt]==="none"||a&&o[Qt]==="none"&&c+h>i)?"vertical":"horizontal"},Zn=function(e,t,o){var i=o?e.left:e.top,r=o?e.right:e.bottom,a=o?e.width:e.height,l=o?t.left:t.top,s=o?t.right:t.bottom,c=o?t.width:t.height;return i===l||r===s||i+a/2===l+c/2},Qn=function(e,t){var o;return gt.some(function(i){var r=i[ne].options.emptyInsertThreshold;if(!(!r||Lt(i))){var a=W(i),l=e>=a.left-r&&e<=a.right+r,s=t>=a.top-r&&t<=a.bottom+r;if(l&&s)return o=i}}),o},fn=function(e){function t(r,a){return function(l,s,c,h){var f=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(a||f))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(l,s,c,h),a)(l,s,c,h);var S=(a?l:s).options.group.name;return r===!0||typeof r=="string"&&r===S||r.join&&r.indexOf(S)>-1}}var o={},i=e.group;(!i||ct(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=t(i.pull,!0),o.checkPut=t(i.put),o.revertClone=i.revertClone,e.group=o},hn=function(){!dn&&N&&w(N,"display","none")},pn=function(){!dn&&N&&w(N,"display","")};wt&&!rn&&document.addEventListener("click",function(n){if(mt)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),mt=!1,!1},!0);var Ie=function(e){if(u){e=e.touches?e.touches[0]:e;var t=Qn(e.clientX,e.clientY);if(t){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[ne]._onDragOver(o)}}},eo=function(e){u&&u.parentNode[ne]._isOutsideThisEl(e.target)};function x(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=fe({},e),n[ne]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return un(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:x.supportPointer!==!1&&"PointerEvent"in window&&!qe,emptyInsertThreshold:5};tt.initializePlugins(this,n,t);for(var o in t)!(o in e)&&(e[o]=t[o]);fn(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Vn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?M(n,"pointerdown",this._onTapStart):(M(n,"mousedown",this._onTapStart),M(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(M(n,"dragover",this),M(n,"dragenter",this)),gt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),fe(this,Un())}x.prototype={constructor:x,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Fe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,u):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,i=this.options,r=i.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,h=i.filter;if(so(o),!u&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&qe&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ge(s,i.draggable,o,!1),!(s&&s.animated)&&dt!==s)){if(je=K(s),Ve=K(s,i.draggable),typeof h=="function"){if(h.call(this,e,s,this)){oe({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:o,fromEl:o}),re("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(f){if(f=ge(c,f.trim(),o,!1),f)return oe({sortable:t,rootEl:f,name:"filter",targetEl:s,fromEl:o,toEl:o}),re("filter",t,{evt:e}),!0}),h)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!ge(c,i.handle,o,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,o){var i=this,r=i.el,a=i.options,l=r.ownerDocument,s;if(o&&!u&&o.parentNode===r){var c=W(o);if(X=r,u=o,U=u.parentNode,Te=u.nextSibling,dt=o,ot=a.group,x.dragged=u,Ne={target:u,clientX:(t||e).clientX,clientY:(t||e).clientY},Vt=Ne.clientX-c.left,Zt=Ne.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,u.style["will-change"]="all",s=function(){if(re("delayEnded",i,{evt:e}),x.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!zt&&i.nativeDraggable&&(u.draggable=!0),i._triggerDragStart(e,t),oe({sortable:i,name:"choose",originalEvent:e}),z(u,a.chosenClass,!0)},a.ignore.split(",").forEach(function(h){ln(u,h.trim(),Ct)}),M(l,"dragover",Ie),M(l,"mousemove",Ie),M(l,"touchmove",Ie),M(l,"mouseup",i._onDrop),M(l,"touchend",i._onDrop),M(l,"touchcancel",i._onDrop),zt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),re("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(et||ye))){if(x.eventCanceled){this._onDrop();return}M(l,"mouseup",i._disableDelayedDrag),M(l,"touchend",i._disableDelayedDrag),M(l,"touchcancel",i._disableDelayedDrag),M(l,"mousemove",i._delayedDragTouchMoveHandler),M(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&M(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&Ct(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._disableDelayedDrag),T(e,"touchend",this._disableDelayedDrag),T(e,"touchcancel",this._disableDelayedDrag),T(e,"mousemove",this._delayedDragTouchMoveHandler),T(e,"touchmove",this._delayedDragTouchMoveHandler),T(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?M(document,"pointermove",this._onTouchMove):t?M(document,"touchmove",this._onTouchMove):M(document,"mousemove",this._onTouchMove):(M(u,"dragend",this),M(X,"dragstart",this._onDragStart));try{document.selection?ft(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Re=!1,X&&u){re("dragStarted",this,{evt:t}),this.nativeDraggable&&M(document,"dragover",eo);var o=this.options;!e&&z(u,o.dragClass,!1),z(u,o.ghostClass,!0),x.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(pe){this._lastX=pe.clientX,this._lastY=pe.clientY,hn();for(var e=document.elementFromPoint(pe.clientX,pe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(pe.clientX,pe.clientY),e!==t);)t=e;if(u.parentNode[ne]._isOutsideThisEl(e),t)do{if(t[ne]){var o=void 0;if(o=t[ne]._onDragOver({clientX:pe.clientX,clientY:pe.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);pn()}},_onTouchMove:function(e){if(Ne){var t=this.options,o=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=N&&Ae(N,!0),l=N&&a&&a.a,s=N&&a&&a.d,c=rt&&ee&&qt(ee),h=(r.clientX-Ne.clientX+i.x)/(l||1)+(c?c[0]-Dt[0]:0)/(l||1),f=(r.clientY-Ne.clientY+i.y)/(s||1)+(c?c[1]-Dt[1]:0)/(s||1);if(!x.active&&!Re){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(N){a?(a.e+=h-(xt||0),a.f+=f-(_t||0)):a={a:1,b:0,c:0,d:1,e:h,f};var S="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");w(N,"webkitTransform",S),w(N,"mozTransform",S),w(N,"msTransform",S),w(N,"transform",S),xt=h,_t=f,pe=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!N){var e=this.options.fallbackOnBody?document.body:X,t=W(u,!0,rt,!0,e),o=this.options;if(rt){for(ee=e;w(ee,"position")==="static"&&w(ee,"transform")==="none"&&ee!==document;)ee=ee.parentNode;ee!==document.body&&ee!==document.documentElement?(ee===document&&(ee=ve()),t.top+=ee.scrollTop,t.left+=ee.scrollLeft):ee=ve(),Dt=qt(ee)}N=u.cloneNode(!0),z(N,o.ghostClass,!1),z(N,o.fallbackClass,!0),z(N,o.dragClass,!0),w(N,"transition",""),w(N,"transform",""),w(N,"box-sizing","border-box"),w(N,"margin",0),w(N,"top",t.top),w(N,"left",t.left),w(N,"width",t.width),w(N,"height",t.height),w(N,"opacity","0.8"),w(N,"position",rt?"absolute":"fixed"),w(N,"zIndex","100000"),w(N,"pointerEvents","none"),x.ghost=N,e.appendChild(N),w(N,"transform-origin",Vt/parseInt(N.style.width)*100+"% "+Zt/parseInt(N.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,i=e.dataTransfer,r=o.options;if(re("dragStart",this,{evt:e}),x.eventCanceled){this._onDrop();return}re("setupClone",this),x.eventCanceled||(G=Rt(u),G.removeAttribute("id"),G.draggable=!1,G.style["will-change"]="",this._hideClone(),z(G,this.options.chosenClass,!1),x.clone=G),o.cloneId=ft(function(){re("clone",o),!x.eventCanceled&&(o.options.removeCloneOnHide||X.insertBefore(G,u),o._hideClone(),oe({sortable:o,name:"clone"}))}),!t&&z(u,r.dragClass,!0),t?(mt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(T(document,"mouseup",o._onDrop),T(document,"touchend",o._onDrop),T(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(o,i,u)),M(document,"drop",o),w(u,"transform","translateZ(0)")),Re=!0,o._dragStartId=ft(o._dragStarted.bind(o,t,e)),M(document,"selectstart",o),ze=!0,qe&&w(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,i,r,a,l=this.options,s=l.group,c=x.active,h=ot===s,f=l.sort,S=Q||c,D,C=this,b=!1;if(Mt)return;function $(le,Me){re(le,C,be({evt:e,isOwner:h,axis:D?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:f,fromSortable:S,target:o,completed:Y,onMove:function(Ce,ke){return at(X,t,u,i,Ce,W(Ce),e,ke)},changed:F},Me))}function V(){$("dragOverAnimationCapture"),C.captureAnimationState(),C!==S&&S.captureAnimationState()}function Y(le){return $("dragOverCompleted",{insertion:le}),le&&(h?c._hideClone():c._showClone(C),C!==S&&(z(u,Q?Q.options.ghostClass:c.options.ghostClass,!1),z(u,l.ghostClass,!0)),Q!==C&&C!==x.active?Q=C:C===x.active&&Q&&(Q=null),S===C&&(C._ignoreWhileAnimating=o),C.animateAll(function(){$("dragOverAnimationComplete"),C._ignoreWhileAnimating=null}),C!==S&&(S.animateAll(),S._ignoreWhileAnimating=null)),(o===u&&!u.animated||o===t&&!o.animated)&&(Fe=null),!l.dragoverBubble&&!e.rootEl&&o!==document&&(u.parentNode[ne]._isOutsideThisEl(e.target),!le&&Ie(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function F(){ce=K(u),Ee=K(u,l.draggable),oe({sortable:C,name:"change",toEl:t,newIndex:ce,newDraggableIndex:Ee,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=ge(o,l.draggable,t,!0),$("dragOver"),x.eventCanceled)return b;if(u.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||C._ignoreWhileAnimating===o)return Y(!1);if(mt=!1,c&&!l.disabled&&(h?f||(a=U!==X):Q===this||(this.lastPutMode=ot.checkPull(this,c,u,e))&&s.checkPut(this,c,u,e))){if(D=this._getDirection(e,o)==="vertical",i=W(u),$("dragOverValid"),x.eventCanceled)return b;if(a)return U=X,V(),this._hideClone(),$("revert"),x.eventCanceled||(Te?X.insertBefore(u,Te):X.appendChild(u)),Y(!0);var I=Lt(t,l.draggable);if(!I||io(e,D,this)&&!I.animated){if(I===u)return Y(!1);if(I&&t===e.target&&(o=I),o&&(r=W(o)),at(X,t,u,i,o,r,e,!!o)!==!1)return V(),I&&I.nextSibling?t.insertBefore(u,I.nextSibling):t.appendChild(u),U=t,F(),Y(!0)}else if(I&&oo(e,D,this)){var ie=He(t,0,l,!0);if(ie===u)return Y(!1);if(o=ie,r=W(o),at(X,t,u,i,o,r,e,!1)!==!1)return V(),t.insertBefore(u,ie),U=t,F(),Y(!0)}else if(o.parentNode===t){r=W(o);var v=0,d,m=u.parentNode!==t,g=!Zn(u.animated&&u.toRect||i,o.animated&&o.toRect||r,D),_=D?"top":"left",E=Kt(o,"top","top")||Kt(u,"top","top"),A=E?E.scrollTop:void 0;Fe!==o&&(d=r[_],Qe=!1,it=!g&&l.invertSwap||m),v=ro(e,o,r,D,g?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,it,Fe===o);var k;if(v!==0){var H=K(u);do H-=v,k=U.children[H];while(k&&(w(k,"display")==="none"||k===N))}if(v===0||k===o)return Y(!1);Fe=o,Ze=v;var B=o.nextElementSibling,Z=!1;Z=v===1;var he=at(X,t,u,i,o,r,e,Z);if(he!==!1)return(he===1||he===-1)&&(Z=he===1),Mt=!0,setTimeout(no,30),V(),Z&&!B?t.appendChild(u):o.parentNode.insertBefore(u,Z?B:o),E&&cn(E,0,A-E.scrollTop),U=u.parentNode,d!==void 0&&!it&&(ut=Math.abs(d-W(o)[_])),F(),Y(!0)}if(t.contains(u))return Y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){T(document,"mousemove",this._onTouchMove),T(document,"touchmove",this._onTouchMove),T(document,"pointermove",this._onTouchMove),T(document,"dragover",Ie),T(document,"mousemove",Ie),T(document,"touchmove",Ie)},_offUpEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._onDrop),T(e,"touchend",this._onDrop),T(e,"pointerup",this._onDrop),T(e,"touchcancel",this._onDrop),T(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(ce=K(u),Ee=K(u,o.draggable),re("drop",this,{evt:e}),U=u&&u.parentNode,ce=K(u),Ee=K(u,o.draggable),x.eventCanceled){this._nulling();return}Re=!1,it=!1,Qe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),kt(this.cloneId),kt(this._dragStartId),this.nativeDraggable&&(T(document,"drop",this),T(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),qe&&w(document.body,"user-select",""),w(u,"transform",""),e&&(ze&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),N&&N.parentNode&&N.parentNode.removeChild(N),(X===U||Q&&Q.lastPutMode!=="clone")&&G&&G.parentNode&&G.parentNode.removeChild(G),u&&(this.nativeDraggable&&T(u,"dragend",this),Ct(u),u.style["will-change"]="",ze&&!Re&&z(u,Q?Q.options.ghostClass:this.options.ghostClass,!1),z(u,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==U?(ce>=0&&(oe({rootEl:U,name:"add",toEl:U,fromEl:X,originalEvent:e}),oe({sortable:this,name:"remove",toEl:U,originalEvent:e}),oe({rootEl:U,name:"sort",toEl:U,fromEl:X,originalEvent:e}),oe({sortable:this,name:"sort",toEl:U,originalEvent:e})),Q&&Q.save()):ce!==je&&ce>=0&&(oe({sortable:this,name:"update",toEl:U,originalEvent:e}),oe({sortable:this,name:"sort",toEl:U,originalEvent:e})),x.active&&((ce==null||ce===-1)&&(ce=je,Ee=Ve),oe({sortable:this,name:"end",toEl:U,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){re("nulling",this),X=u=U=N=Te=G=dt=xe=Ne=pe=ze=ce=Ee=je=Ve=Fe=Ze=Q=ot=x.dragged=x.ghost=x.clone=x.active=null,vt.forEach(function(e){e.checked=!0}),vt.length=xt=_t=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":u&&(this._onDragOver(e),to(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)t=o[i],ge(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||lo(t));return e},sort:function(e,t){var o={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];ge(l,this.options.draggable,i,!1)&&(o[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){o[r]&&(i.removeChild(o[r]),i.appendChild(o[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ge(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var i=tt.modifyOption(this,e,t);typeof i<"u"?o[e]=i:o[e]=t,e==="group"&&fn(o)},destroy:function(){re("destroy",this);var e=this.el;e[ne]=null,T(e,"mousedown",this._onTapStart),T(e,"touchstart",this._onTapStart),T(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(T(e,"dragover",this),T(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),gt.splice(gt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!xe){if(re("hideClone",this),x.eventCanceled)return;w(G,"display","none"),this.options.removeCloneOnHide&&G.parentNode&&G.parentNode.removeChild(G),xe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(xe){if(re("showClone",this),x.eventCanceled)return;u.parentNode==X&&!this.options.group.revertClone?X.insertBefore(G,u):Te?X.insertBefore(G,Te):X.appendChild(G),this.options.group.revertClone&&this.animate(u,G),w(G,"display",""),xe=!1}}};function to(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function at(n,e,t,o,i,r,a,l){var s,c=n[ne],h=c.options.onMove,f;return window.CustomEvent&&!ye&&!et?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=n,s.dragged=t,s.draggedRect=o,s.related=i||e,s.relatedRect=r||W(e),s.willInsertAfter=l,s.originalEvent=a,n.dispatchEvent(s),h&&(f=h.call(c,s,a)),f}function Ct(n){n.draggable=!1}function no(){Mt=!1}function oo(n,e,t){var o=W(He(t.el,0,t.options,!0)),i=10;return e?n.clientX<o.left-i||n.clientY<o.top&&n.clientX<o.right:n.clientY<o.top-i||n.clientY<o.bottom&&n.clientX<o.left}function io(n,e,t){var o=W(Lt(t.el,t.options.draggable)),i=10;return e?n.clientX>o.right+i||n.clientX<=o.right&&n.clientY>o.bottom&&n.clientX>=o.left:n.clientX>o.right&&n.clientY>o.top||n.clientX<=o.right&&n.clientY>o.bottom+i}function ro(n,e,t,o,i,r,a,l){var s=o?n.clientY:n.clientX,c=o?t.height:t.width,h=o?t.top:t.left,f=o?t.bottom:t.right,S=!1;if(!a){if(l&&ut<c*i){if(!Qe&&(Ze===1?s>h+c*r/2:s<f-c*r/2)&&(Qe=!0),Qe)S=!0;else if(Ze===1?s<h+ut:s>f-ut)return-Ze}else if(s>h+c*(1-i)/2&&s<f-c*(1-i)/2)return ao(e)}return S=S||a,S&&(s<h+c*r/2||s>f-c*r/2)?s>h+c/2?1:-1:0}function ao(n){return K(u)<K(n)?1:-1}function lo(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function so(n){vt.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&vt.push(o)}}function ft(n){return setTimeout(n,0)}function kt(n){return clearTimeout(n)}wt&&M(document,"touchmove",function(n){(x.active||Re)&&n.cancelable&&n.preventDefault()});x.utils={on:M,off:T,css:w,find:ln,is:function(e,t){return!!ge(e,t,e,!1)},extend:Gn,throttle:sn,closest:ge,toggleClass:z,clone:Rt,index:K,nextTick:ft,cancelNextTick:kt,detectDirection:un,getChild:He};x.get=function(n){return n[ne]};x.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(x.utils=be(be({},x.utils),o.utils)),tt.mount(o)})};x.create=function(n,e){return new x(n,e)};x.version=Xn;var q=[],Ue,Pt,$t=!1,Ot,Nt,bt,Ke;function co(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):this.options.supportPointer?M(document,"pointermove",this._handleFallbackAutoScroll):o.touches?M(document,"touchmove",this._handleFallbackAutoScroll):M(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):(T(document,"pointermove",this._handleFallbackAutoScroll),T(document,"touchmove",this._handleFallbackAutoScroll),T(document,"mousemove",this._handleFallbackAutoScroll)),en(),ht(),zn()},nulling:function(){bt=Pt=Ue=$t=Ke=Ot=Nt=null,q.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var i=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);if(bt=t,o||this.options.forceAutoScrollFallback||et||ye||qe){It(t,this.options,l,o);var s=_e(l,!0);$t&&(!Ke||r!==Ot||a!==Nt)&&(Ke&&en(),Ke=setInterval(function(){var c=_e(document.elementFromPoint(r,a),!0);c!==s&&(s=c,ht()),It(t,i.options,c,o)},10),Ot=r,Nt=a)}else{if(!this.options.bubbleScroll||_e(l,!0)===ve()){ht();return}It(t,this.options,_e(l,!1),!1)}}},fe(n,{pluginName:"scroll",initializeByDefault:!0})}function ht(){q.forEach(function(n){clearInterval(n.pid)}),q=[]}function en(){clearInterval(Ke)}var It=sn(function(n,e,t,o){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,s=ve(),c=!1,h;Pt!==t&&(Pt=t,ht(),Ue=e.scroll,h=e.scrollFn,Ue===!0&&(Ue=_e(t,!0)));var f=0,S=Ue;do{var D=S,C=W(D),b=C.top,$=C.bottom,V=C.left,Y=C.right,F=C.width,I=C.height,ie=void 0,v=void 0,d=D.scrollWidth,m=D.scrollHeight,g=w(D),_=D.scrollLeft,E=D.scrollTop;D===s?(ie=F<d&&(g.overflowX==="auto"||g.overflowX==="scroll"||g.overflowX==="visible"),v=I<m&&(g.overflowY==="auto"||g.overflowY==="scroll"||g.overflowY==="visible")):(ie=F<d&&(g.overflowX==="auto"||g.overflowX==="scroll"),v=I<m&&(g.overflowY==="auto"||g.overflowY==="scroll"));var A=ie&&(Math.abs(Y-i)<=a&&_+F<d)-(Math.abs(V-i)<=a&&!!_),k=v&&(Math.abs($-r)<=a&&E+I<m)-(Math.abs(b-r)<=a&&!!E);if(!q[f])for(var H=0;H<=f;H++)q[H]||(q[H]={});(q[f].vx!=A||q[f].vy!=k||q[f].el!==D)&&(q[f].el=D,q[f].vx=A,q[f].vy=k,clearInterval(q[f].pid),(A!=0||k!=0)&&(c=!0,q[f].pid=setInterval(function(){o&&this.layer===0&&x.active._onTouchMove(bt);var B=q[this.layer].vy?q[this.layer].vy*l:0,Z=q[this.layer].vx?q[this.layer].vx*l:0;typeof h=="function"&&h.call(x.dragged.parentNode[ne],Z,B,n,bt,q[this.layer].el)!=="continue"||cn(q[this.layer].el,Z,B)}.bind({layer:f}),24))),f++}while(e.bubbleScroll&&S!==s&&(S=_e(S,!1)));$t=c}},30),mn=function(e){var t=e.originalEvent,o=e.putSortable,i=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=o||r;l();var h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,f=document.elementFromPoint(h.clientX,h.clientY);s(),c&&!c.el.contains(f)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function jt(){}jt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=He(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:mn};fe(jt,{pluginName:"revertOnSpill"});function Ht(){}Ht.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,i=o||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:mn};fe(Ht,{pluginName:"removeOnSpill"});var ue;function uo(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(t){var o=t.dragEl;ue=o},dragOverValid:function(t){var o=t.completed,i=t.target,r=t.onMove,a=t.activeSortable,l=t.changed,s=t.cancel;if(a.options.swap){var c=this.sortable.el,h=this.options;if(i&&i!==c){var f=ue;r(i)!==!1?(z(i,h.swapClass,!0),ue=i):ue=null,f&&f!==ue&&z(f,h.swapClass,!1)}l(),o(!0),s()}},drop:function(t){var o=t.activeSortable,i=t.putSortable,r=t.dragEl,a=i||this.sortable,l=this.options;ue&&z(ue,l.swapClass,!1),ue&&(l.swap||i&&i.options.swap)&&r!==ue&&(a.captureAnimationState(),a!==o&&o.captureAnimationState(),fo(r,ue),a.animateAll(),a!==o&&o.animateAll())},nulling:function(){ue=null}},fe(n,{pluginName:"swap",eventProperties:function(){return{swapItem:ue}}})}function fo(n,e){var t=n.parentNode,o=e.parentNode,i,r;!t||!o||t.isEqualNode(e)||o.isEqualNode(n)||(i=K(n),r=K(e),t.isEqualNode(o)&&i<r&&r++,t.insertBefore(e,t.children[i]),o.insertBefore(n,o.children[r]))}var O=[],se=[],Xe,me,We=!1,ae=!1,Le=!1,j,Ye,lt;function ho(){function n(e){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?M(document,"pointerup",this._deselectMultiDrag):(M(document,"mouseup",this._deselectMultiDrag),M(document,"touchend",this._deselectMultiDrag))),M(document,"keydown",this._checkKeyDown),M(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(i,r){var a="";O.length&&me===e?O.forEach(function(l,s){a+=(s?", ":"")+l.textContent}):a=r.textContent,i.setData("Text",a)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var o=t.dragEl;j=o},delayEnded:function(){this.isMultiDrag=~O.indexOf(j)},setupClone:function(t){var o=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var r=0;r<O.length;r++)se.push(Rt(O[r])),se[r].sortableIndex=O[r].sortableIndex,se[r].draggable=!1,se[r].style["will-change"]="",z(se[r],this.options.selectedClass,!1),O[r]===j&&z(se[r],this.options.chosenClass,!1);o._hideClone(),i()}},clone:function(t){var o=t.sortable,i=t.rootEl,r=t.dispatchSortableEvent,a=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||O.length&&me===o&&(tn(!0,i),r("clone"),a()))},showClone:function(t){var o=t.cloneNowShown,i=t.rootEl,r=t.cancel;this.isMultiDrag&&(tn(!1,i),se.forEach(function(a){w(a,"display","")}),o(),lt=!1,r())},hideClone:function(t){var o=this;t.sortable;var i=t.cloneNowHidden,r=t.cancel;this.isMultiDrag&&(se.forEach(function(a){w(a,"display","none"),o.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),i(),lt=!0,r())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&me&&me.multiDrag._deselectMultiDrag(),O.forEach(function(o){o.sortableIndex=K(o)}),O=O.sort(function(o,i){return o.sortableIndex-i.sortableIndex}),Le=!0},dragStarted:function(t){var o=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){O.forEach(function(a){a!==j&&w(a,"position","absolute")});var r=W(j,!1,!0,!0);O.forEach(function(a){a!==j&&Jt(a,r)}),ae=!0,We=!0}i.animateAll(function(){ae=!1,We=!1,o.options.animation&&O.forEach(function(a){St(a)}),o.options.sort&&st()})}},dragOver:function(t){var o=t.target,i=t.completed,r=t.cancel;ae&&~O.indexOf(o)&&(i(!1),r())},revert:function(t){var o=t.fromSortable,i=t.rootEl,r=t.sortable,a=t.dragRect;O.length>1&&(O.forEach(function(l){r.addAnimationState({target:l,rect:ae?W(l):a}),St(l),l.fromRect=a,o.removeAnimationState(l)}),ae=!1,po(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var o=t.sortable,i=t.isOwner,r=t.insertion,a=t.activeSortable,l=t.parentEl,s=t.putSortable,c=this.options;if(r){if(i&&a._hideClone(),We=!1,c.animation&&O.length>1&&(ae||!i&&!a.options.sort&&!s)){var h=W(j,!1,!0,!0);O.forEach(function(S){S!==j&&(Jt(S,h),l.appendChild(S))}),ae=!0}if(!i)if(ae||st(),O.length>1){var f=lt;a._showClone(o),a.options.animation&&!lt&&f&&se.forEach(function(S){a.addAnimationState({target:S,rect:Ye}),S.fromRect=Ye,S.thisAnimationDuration=null})}else a._showClone(o)}},dragOverAnimationCapture:function(t){var o=t.dragRect,i=t.isOwner,r=t.activeSortable;if(O.forEach(function(l){l.thisAnimationDuration=null}),r.options.animation&&!i&&r.multiDrag.isMultiDrag){Ye=fe({},o);var a=Ae(j,!0);Ye.top-=a.f,Ye.left-=a.e}},dragOverAnimationComplete:function(){ae&&(ae=!1,st())},drop:function(t){var o=t.originalEvent,i=t.rootEl,r=t.parentEl,a=t.sortable,l=t.dispatchSortableEvent,s=t.oldIndex,c=t.putSortable,h=c||this.sortable;if(o){var f=this.options,S=r.children;if(!Le)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),z(j,f.selectedClass,!~O.indexOf(j)),~O.indexOf(j))O.splice(O.indexOf(j),1),Xe=null,Ge({sortable:a,rootEl:i,name:"deselect",targetEl:j,originalEvent:o});else{if(O.push(j),Ge({sortable:a,rootEl:i,name:"select",targetEl:j,originalEvent:o}),o.shiftKey&&Xe&&a.el.contains(Xe)){var D=K(Xe),C=K(j);if(~D&&~C&&D!==C){var b,$;for(C>D?($=D,b=C):($=C,b=D+1);$<b;$++)~O.indexOf(S[$])||(z(S[$],f.selectedClass,!0),O.push(S[$]),Ge({sortable:a,rootEl:i,name:"select",targetEl:S[$],originalEvent:o}))}}else Xe=j;me=h}if(Le&&this.isMultiDrag){if(ae=!1,(r[ne].options.sort||r!==i)&&O.length>1){var V=W(j),Y=K(j,":not(."+this.options.selectedClass+")");if(!We&&f.animation&&(j.thisAnimationDuration=null),h.captureAnimationState(),!We&&(f.animation&&(j.fromRect=V,O.forEach(function(I){if(I.thisAnimationDuration=null,I!==j){var ie=ae?W(I):V;I.fromRect=ie,h.addAnimationState({target:I,rect:ie})}})),st(),O.forEach(function(I){S[Y]?r.insertBefore(I,S[Y]):r.appendChild(I),Y++}),s===K(j))){var F=!1;O.forEach(function(I){if(I.sortableIndex!==K(I)){F=!0;return}}),F&&l("update")}O.forEach(function(I){St(I)}),h.animateAll()}me=h}(i===r||c&&c.lastPutMode!=="clone")&&se.forEach(function(I){I.parentNode&&I.parentNode.removeChild(I)})}},nullingGlobal:function(){this.isMultiDrag=Le=!1,se.length=0},destroyGlobal:function(){this._deselectMultiDrag(),T(document,"pointerup",this._deselectMultiDrag),T(document,"mouseup",this._deselectMultiDrag),T(document,"touchend",this._deselectMultiDrag),T(document,"keydown",this._checkKeyDown),T(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof Le<"u"&&Le)&&me===this.sortable&&!(t&&ge(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;O.length;){var o=O[0];z(o,this.options.selectedClass,!1),O.shift(),Ge({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},fe(n,{pluginName:"multiDrag",utils:{select:function(t){var o=t.parentNode[ne];!o||!o.options.multiDrag||~O.indexOf(t)||(me&&me!==o&&(me.multiDrag._deselectMultiDrag(),me=o),z(t,o.options.selectedClass,!0),O.push(t))},deselect:function(t){var o=t.parentNode[ne],i=O.indexOf(t);!o||!o.options.multiDrag||!~i||(z(t,o.options.selectedClass,!1),O.splice(i,1))}},eventProperties:function(){var t=this,o=[],i=[];return O.forEach(function(r){o.push({multiDragElement:r,index:r.sortableIndex});var a;ae&&r!==j?a=-1:ae?a=K(r,":not(."+t.options.selectedClass+")"):a=K(r),i.push({multiDragElement:r,index:a})}),{items:Ln(O),clones:[].concat(se),oldIndicies:o,newIndicies:i}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function po(n,e){O.forEach(function(t,o){var i=e.children[t.sortableIndex+(n?Number(o):0)];i?e.insertBefore(t,i):e.appendChild(t)})}function tn(n,e){se.forEach(function(t,o){var i=e.children[t.sortableIndex+(n?Number(o):0)];i?e.insertBefore(t,i):e.appendChild(t)})}function st(){O.forEach(function(n){n!==j&&n.parentNode&&n.parentNode.removeChild(n)})}x.mount(new co);x.mount(Ht,jt);const mo=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:ho,Sortable:x,Swap:uo,default:x},Symbol.toStringTag,{value:"Module"})),go=nn(mo);var Ft={},vo={get exports(){return Ft},set exports(n){Ft=n}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var a=typeof r;if(a==="string"||a==="number")o.push(r);else if(Array.isArray(r)){if(r.length){var l=t.apply(null,r);l&&o.push(l)}}else if(a==="object")if(r.toString===Object.prototype.toString)for(var s in r)e.call(r,s)&&r[s]&&o.push(s);else o.push(r.toString())}}return o.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(vo);var bo="Invariant failed";function wo(n,e){if(!n)throw new Error(bo)}const yo=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),So=nn(yo);(function(n){var e=go,t=Ft,o=te,i=So;function r(v){return v&&v.__esModule?v.default:v}function a(v,d,m,g){Object.defineProperty(v,d,{get:m,set:g,enumerable:!0,configurable:!0})}function l(v,d){return Object.keys(d).forEach(function(m){m==="default"||m==="__esModule"||v.hasOwnProperty(m)||Object.defineProperty(v,m,{enumerable:!0,get:function(){return d[m]}})}),v}a(n.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),a(n.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),a(n.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),a(n.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),a(n.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),a(n.exports,"Options",()=>$882b6d93070905b3$re_export$Options),a(n.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),a(n.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),a(n.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),a(n.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),a(n.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),a(n.exports,"ReactSortable",()=>I);function s(v){v.parentElement!==null&&v.parentElement.removeChild(v)}function c(v,d,m){const g=v.children[m]||null;v.insertBefore(d,g)}function h(v){v.forEach(d=>s(d.element))}function f(v){v.forEach(d=>{c(d.parentElement,d.element,d.oldIndex)})}function S(v,d){const m=$(v),g={parentElement:v.from};let _=[];switch(m){case"normal":_=[{element:v.item,newIndex:v.newIndex,oldIndex:v.oldIndex,parentElement:v.from}];break;case"swap":const k={element:v.item,oldIndex:v.oldIndex,newIndex:v.newIndex,...g},H={element:v.swapItem,oldIndex:v.newIndex,newIndex:v.oldIndex,...g};_=[k,H];break;case"multidrag":_=v.oldIndicies.map((B,Z)=>({element:B.multiDragElement,oldIndex:B.index,newIndex:v.newIndicies[Z].index,...g}));break}return V(_,d)}function D(v,d){const m=C(v,d);return b(v,m)}function C(v,d){const m=[...d];return v.concat().reverse().forEach(g=>m.splice(g.oldIndex,1)),m}function b(v,d,m,g){const _=[...d];return v.forEach(E=>{const A=g&&m&&g(E.item,m);_.splice(E.newIndex,0,A||E.item)}),_}function $(v){return v.oldIndicies&&v.oldIndicies.length>0?"multidrag":v.swapItem?"swap":"normal"}function V(v,d){return v.map(g=>({...g,item:d[g.oldIndex]})).sort((g,_)=>g.oldIndex-_.oldIndex)}function Y(v){const{list:d,setList:m,children:g,tag:_,style:E,className:A,clone:k,onAdd:H,onChange:B,onChoose:Z,onClone:he,onEnd:le,onFilter:Me,onRemove:De,onSort:Ce,onStart:ke,onUnchoose:y,onUpdate:P,onMove:L,onSpill:J,onSelect:de,onDeselect:Oe,...Se}=v;return Se}const F={dragging:null};class I extends o.Component{constructor(d){super(d),this.ref=(0,o.createRef)();const m=[...d.list].map(g=>Object.assign(g,{chosen:!1,selected:!1}));d.setList(m,this.sortable,F),r(i)(!d.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const d=this.makeOptions();r(e).create(this.ref.current,d)}componentDidUpdate(d){d.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:d,style:m,className:g,id:_}=this.props,E={style:m,className:g,id:_},A=!d||d===null?"div":d;return(0,o.createElement)(A,{ref:this.ref,...E},this.getChildren())}getChildren(){const{children:d,dataIdAttr:m,selectedClass:g="sortable-selected",chosenClass:_="sortable-chosen",dragClass:E="sortable-drag",fallbackClass:A="sortable-falback",ghostClass:k="sortable-ghost",swapClass:H="sortable-swap-highlight",filter:B="sortable-filter",list:Z}=this.props;if(!d||d==null)return null;const he=m||"data-id";return o.Children.map(d,(le,Me)=>{if(le===void 0)return;const De=Z[Me]||{},{className:Ce}=le.props,ke=typeof B=="string"&&{[B.replace(".","")]:!!De.filtered},y=r(t)(Ce,{[g]:De.selected,[_]:De.chosen,...ke});return(0,o.cloneElement)(le,{[he]:le.key,className:y})})}get sortable(){const d=this.ref.current;if(d===null)return null;const m=Object.keys(d).find(g=>g.includes("Sortable"));return m?d[m]:null}makeOptions(){const d=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],m=["onChange","onClone","onFilter","onSort"],g=Y(this.props);return d.forEach(E=>g[E]=this.prepareOnHandlerPropAndDOM(E)),m.forEach(E=>g[E]=this.prepareOnHandlerProp(E)),{...g,onMove:(E,A)=>{const{onMove:k}=this.props,H=E.willInsertAfter||-1;if(!k)return H;const B=k(E,A,this.sortable,F);return typeof B>"u"?!1:B}}}prepareOnHandlerPropAndDOM(d){return m=>{this.callOnHandlerProp(m,d),this[d](m)}}prepareOnHandlerProp(d){return m=>{this.callOnHandlerProp(m,d)}}callOnHandlerProp(d,m){const g=this.props[m];g&&g(d,this.sortable,F)}onAdd(d){const{list:m,setList:g,clone:_}=this.props,E=[...F.dragging.props.list],A=S(d,E);h(A);const k=b(A,m,d,_).map(H=>Object.assign(H,{selected:!1}));g(k,this.sortable,F)}onRemove(d){const{list:m,setList:g}=this.props,_=$(d),E=S(d,m);f(E);let A=[...m];if(d.pullMode!=="clone")A=C(E,A);else{let k=E;switch(_){case"multidrag":k=E.map((H,B)=>({...H,element:d.clones[B]}));break;case"normal":k=E.map(H=>({...H,element:d.clone}));break;case"swap":default:r(i)(!0,`mode "${_}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${_}" plugin`)}h(k),E.forEach(H=>{const B=H.oldIndex,Z=this.props.clone(H.item,d);A.splice(B,1,Z)})}A=A.map(k=>Object.assign(k,{selected:!1})),g(A,this.sortable,F)}onUpdate(d){const{list:m,setList:g}=this.props,_=S(d,m);h(_),f(_);const E=D(_,m);return g(E,this.sortable,F)}onStart(){F.dragging=this}onEnd(){F.dragging=null}onChoose(d){const{list:m,setList:g}=this.props,_=m.map((E,A)=>{let k=E;return A===d.oldIndex&&(k=Object.assign(E,{chosen:!0})),k});g(_,this.sortable,F)}onUnchoose(d){const{list:m,setList:g}=this.props,_=m.map((E,A)=>{let k=E;return A===d.oldIndex&&(k=Object.assign(k,{chosen:!1})),k});g(_,this.sortable,F)}onSpill(d){const{removeOnSpill:m,revertOnSpill:g}=this.props;m&&!g&&s(d.item)}onSelect(d){const{list:m,setList:g}=this.props,_=m.map(E=>Object.assign(E,{selected:!1}));d.newIndicies.forEach(E=>{const A=E.index;if(A===-1){console.log(`"${d.type}" had indice of "${E.index}", which is probably -1 and doesn't usually happen here.`),console.log(d);return}_[A].selected=!0}),g(_,this.sortable,F)}onDeselect(d){const{list:m,setList:g}=this.props,_=m.map(E=>Object.assign(E,{selected:!1}));d.newIndicies.forEach(E=>{const A=E.index;A!==-1&&(_[A].selected=!0)}),g(_,this.sortable,F)}}Yt(I,"defaultProps",{clone:d=>d});var ie={};l(n.exports,ie)})(kn);function Ro({candidat:n}){const e=JSON.parse(n.steps),[t,o]=te.useState(n.steps?e.steps.map(y=>({id:y.id,title:y.title,tasks:y.tasks})):[{id:1,title:"Etape 1",tasks:[]}]),{post:i,processing:r,data:a,setData:l,transform:s}=wn({steps:t}),c=[{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"date",label:"Date"},{value:"hour",label:"Hour"},{value:"number",label:"Number"},{value:"password",label:"Password"},{value:"select",label:"Select"},{value:"file",label:"File"},{value:"textarea",label:"Textarea"}],h=An();te.useEffect(()=>{h(yn("Candidate"))});const f=Mn(y=>y.themeConfig.rtlClass)==="rtl",S=y=>{const{value:P,id:L}=y.target;C({...D,[L]:P})},[D,C]=te.useState({id:null,title:""}),[b,$]=te.useState({projectId:null,id:null,title:"",dataSelect:"",dataRequired:!1,type:"",unique_name:"",validations:[],date:"",is_field_hide:"",field_hidden:"",field_hidden_value:"",field_hidden2:"",field_hidden_value2:"",field_hidden3:"",field_hidden_value3:""}),[V,Y]=te.useState(null),[F,I]=te.useState(!1),[ie,v]=te.useState(!1),[d,m]=te.useState(!1),g=(y=null)=>{setTimeout(()=>{if(C({id:null,title:""}),y){let P=JSON.parse(JSON.stringify(y));C(P)}I(!0)})},_=(y="",P="success")=>{xn.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:P,title:y,padding:"10px 20px"})},E=()=>{if(!D.title)return _("Title is required.","error"),!1;if(D.id){const y=t.find(P=>P.id===D.id);y.title=D.title}else{const P={id:(t.reduce((L,J)=>J.id>L?J.id:L,t[0].id)||0)+1,title:D.title,tasks:[]};t.push(P)}_("L'étape a été créée avec succès."),I(!1)},A=y=>{o(t.filter(P=>P.id!==y.id)),_("L'étape a été supprimée avec succès.")},k=y=>{$(y.tasks=[])},[H,B]=te.useState("false"),Z=y=>{if(y.target!=null){const{value:P,id:L}=y.target;$({...b,[L]:P})}else y[0]!=null?b.validations=y:(y==null?void 0:y.value)==="OUI"||(y==null?void 0:y.value)==="NON"?b.is_field_hide=y.value:(y.value==="select"?B(!0):B(!1),console.log("type:",b.type),$({...b,type:y}))},he=(y,P=null)=>{if($({projectId:y,id:null,title:"",type:"",dataSelect:"",dataRequired:!1,validations:[],unique_name:"",data:"",date:"",is_field_hide:"NON",field_hidden:"",field_hidden_value:"",field_hidden2:"",field_hidden_value2:"",field_hidden3:"",field_hidden_value3:""}),P){let L=JSON.parse(JSON.stringify(P));L.projectId=y,L.tags=L.tags?L.tags.toString():"",$(L)}v(!0)},le=y=>{var L;if(y.preventDefault(),!b.title)return _("Le titre est obligatoire.","error"),!1;const P=t.find(J=>J.id===b.projectId);if(b.id){const J=P.tasks.find(de=>de.id===b.id);J.title=b.title,J.type=b.type,J.validations=b.validations}else{console.log(b);let J=0;J=(L=P.tasks)!=null&&L.length?P.tasks.reduce((Xt,Wt)=>Wt.id>Xt?Wt.id:Xt,P.tasks[0].id):0;const de=new Date,Oe=String(de.getDate()).padStart(2,"0"),Se=String(de.getMonth()),Be=de.getFullYear(),gn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bt={projectId:b.projectId,id:J+1,title:b.title,type:b.type,unique_name:b.unique_name,date:Oe+" "+gn[Se]+", "+Be,validations:b.validations,dataSelect:b.dataSelect,dataRequired:b.dataRequired,is_field_hide:b.is_field_hide,field_hidden:b.field_hidden,field_hidden_value:b.field_hidden_value,field_hidden2:b.field_hidden2,field_hidden_value2:b.field_hidden_value2,field_hidden3:b.field_hidden3,field_hidden_value3:b.field_hidden_value3};$(P.tasks.push(Bt)),B(!1),console.log("task",Bt)}_("Task has been saved successfully."),v(!1),console.log("params",b)},Me=(y,P=null)=>{Y(P),setTimeout(()=>{m(!0)},10)},De=()=>{let y=t.find(P=>P.id===V.projectId);y.tasks=y.tasks.filter(P=>P.id!==V.id),_("Task has been deleted successfully."),m(!1)},Ce=async()=>{l({...a,steps:await t}),console.log("candidat",a),i(route("dashboard.update.candidate",n.id))},ke=[{value:"First option",label:"First option"},{value:"Second option",label:"Second option"},{value:"third option",label:"third option"}];return R(Sn,{children:[R("h3",{className:"text-xl my-5 font-bold",children:["Creation des champs pour le formulaire de candidature : ",n.name]}),p("div",{children:R("form",{action:"",children:[p("div",{className:"flex justify-between",children:R("button",{type:"button",className:"btn btn-primary flex",onClick:()=>{g()},children:[p(_n,{className:"text-lg mr-2"}),"Ajouter une étape"]})}),p("div",{className:"relative pt-5",children:p("div",{className:"perfect-scrollbar h-full -mx-2",children:p("div",{className:"overflow-x-auto flex items-start flex-nowrap gap-5 pb-2 px-2",children:t.map(y=>{var P;return R("div",{className:"panel w-80 flex-none","data-group":y.id,children:[R("div",{className:"flex justify-between mb-5",children:[p("h4",{className:"text-base font-semibold",children:y.title}),R("div",{className:"flex items-center",children:[p("button",{onClick:()=>he(y.id),type:"button",className:"hover:text-primary ltr:mr-2 rtl:ml-2",children:R("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",children:[p("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5"}),p("path",{d:"M15 12L12 12M12 12L9 12M12 12L12 9M12 12L12 15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),p("div",{className:"dropdown",children:p(En,{offset:[0,5],placement:`${f?"bottom-start":"bottom-end"}`,button:R("svg",{className:"w-7 h-5 text-black/70 dark:text-white/70 hover:!text-primary",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p("circle",{cx:"5",cy:"12",r:"2",stroke:"currentColor",strokeWidth:"1.5"}),p("circle",{opacity:"0.5",cx:"12",cy:"12",r:"2",stroke:"currentColor",strokeWidth:"1.5"}),p("circle",{cx:"19",cy:"12",r:"2",stroke:"currentColor",strokeWidth:"1.5"})]}),children:R("ul",{children:[p("li",{children:p("button",{type:"button",onClick:()=>g(y),children:"Modifier"})}),p("li",{children:p("button",{type:"button",onClick:()=>A(y),children:"Supprimer"})}),p("li",{children:p("button",{type:"button",onClick:()=>k(y),children:"Tout effacer"})})]})})})]})]}),p(Tt.ReactSortable,{list:y.tasks,setList:(L,J)=>{var de;if(J){const Oe=((de=J.el.closest("[data-group]"))==null?void 0:de.getAttribute("data-group"))||0,Se=t.map(Be=>(parseInt(Be.id)===parseInt(Oe)&&(Be.tasks=L),Be));o(Se)}},animation:200,group:{name:"shared",pull:!0,put:!0},ghostClass:"sortable-ghost",dragClass:"sortable-drag",className:"connect-sorting-content min-h-[150px]",children:(P=y.tasks)==null?void 0:P.map(L=>{var J,de,Oe,Se;return p("div",{className:"sortable-list ",children:R("div",{className:"shadow bg-[#f4f4f4] dark:bg-white-dark/20 p-3 pb-5 rounded-md mb-5 space-y-3 cursor-move",children:[L.image?p("img",{src:"/assets/images/carousel1.jpeg",alt:"images",className:"h-32 w-full object-cover rounded-md"}):"",R("div",{className:"flex items-center gap-2",children:[R("div",{children:[p("label",{htmlFor:"ctnEmail",children:L.title}),((J=L.type)==null?void 0:J.value)==="select"?p(Tn,{id:(de=L.type)==null?void 0:de.value,options:ke}):p("input",{id:(Oe=L.type)==null?void 0:Oe.value,type:(Se=L.type)==null?void 0:Se.value,placeholder:`Entrez votre ${L.title}`,className:"form-input",required:!0})]}),p("div",{className:"flex items-center justify-between",children:R("div",{className:"flex items-center mt-6",children:[p("button",{onClick:()=>he(y.id,L),type:"button",className:"hover:text-info",children:p(Dn,{className:"text-lg mr-1"})}),p("button",{onClick:()=>Me(y.id,L),type:"button",className:"hover:text-danger",children:p(Cn,{className:"text-lg mr-1"})})]})})]})]})},y.id+""+L.id)})}),p("div",{className:"pt-3",children:R("button",{type:"button",className:"btn btn-primary mx-auto",onClick:()=>he(y.id),children:[R("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[p("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Ajouter un champ"]})})]},y.id)})})})}),p(Pe,{appear:!0,show:F,as:te.Fragment,children:R(nt,{as:"div",open:F,onClose:()=>I(!1),className:"relative z-50",children:[p(Pe.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:p("div",{className:"fixed inset-0 bg-[black]/60"})}),p("div",{className:"fixed inset-0 z-[999] px-4 overflow-y-auto",children:p("div",{className:"flex items-center justify-center min-h-screen",children:p(Pe.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:R(nt.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark",children:[p("button",{type:"button",onClick:()=>I(!1),className:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",children:p(On,{className:"text-lg mr-2"})}),p("div",{className:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]",children:D.id?"Modifier l'étape":"Ajouter une étape"}),p("div",{className:"p-5",children:R("form",{onSubmit:E,children:[p("div",{className:"grid gap-5",children:R("div",{children:[p("label",{htmlFor:"title",children:"Nom de l'étape"}),p("input",{id:"title",value:D.title,onChange:S,type:"text",className:"form-input mt-1",placeholder:"Enter Name"})]})}),R("div",{className:"flex justify-end items-center mt-8",children:[p("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>I(!1),children:"Annuler"}),p("button",{type:"submit",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:D.id?"Mettre à jour":"Ajouter"})]})]})})]})})})})]})}),p(In,{isAddTaskModal:ie,setIsAddTaskModal:v,saveTask:le,paramsTask:b,options:c,addTaskData:Z,setParamsTask:$,isChoiceSelect:H,setIsChoiceSelect:B}),p(Pe,{appear:!0,show:d,as:te.Fragment,children:R(nt,{as:"div",open:d,onClose:()=>m(!1),className:"relative z-50",children:[p(Pe.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:p("div",{className:"fixed inset-0 bg-[black]/60"})}),p("div",{className:"fixed inset-0 z-[999] overflow-y-auto",children:p("div",{className:"flex items-center justify-center min-h-screen px-4 ",children:p(Pe.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:R(nt.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden md:w-full max-w-lg w-[90%] my-8",children:[p("button",{type:"button",onClick:()=>{m(!1)},className:"absolute top-4 ltr:right-4 rtl:left-4 text-white-dark",children:R("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),p("div",{className:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]",children:"Delete Task"}),R("div",{className:"p-5 text-center",children:[p("div",{className:"text-white bg-danger ring-4 ring-danger/30 p-4 rounded-full w-fit mx-auto",children:R("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p("path",{opacity:"0.5",d:"M9.17065 4C9.58249 2.83481 10.6937 2 11.9999 2C13.3062 2 14.4174 2.83481 14.8292 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),p("path",{d:"M20.5001 6H3.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),p("path",{d:"M18.8334 8.5L18.3735 15.3991C18.1965 18.054 18.108 19.3815 17.243 20.1907C16.378 21 15.0476 21 12.3868 21H11.6134C8.9526 21 7.6222 21 6.75719 20.1907C5.89218 19.3815 5.80368 18.054 5.62669 15.3991L5.16675 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),p("path",{opacity:"0.5",d:"M9.5 11L10 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),p("path",{opacity:"0.5",d:"M14.5 11L14 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),p("div",{className:"text-base sm:w-3/4 mx-auto mt-5",children:"Are you sure you want to delete Task?"}),R("div",{className:"flex justify-center items-center mt-8",children:[p("button",{onClick:()=>{m(!1)},type:"button",className:"btn btn-outline-danger",children:"Cancel"}),p("button",{onClick:De,type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Delete"})]})]})]})})})})]})}),R("button",{type:"button",className:"btn btn-danger flex w-full mt-5",onClick:()=>{Ce()},children:[p(Nn,{className:"text-lg mr-2"}),"Sauvegarder"]})]})})]})}export{Ro as default};
